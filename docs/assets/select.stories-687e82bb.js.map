{"version":3,"file":"select.stories-687e82bb.js","sources":["../../src/components/ebay-select/README.md","../../src/components/ebay-select/component.js","../../src/components/ebay-select/index.marko","../../src/components/ebay-select/examples/external-label.marko","../../src/components/ebay-select/examples/in-form.marko","../../src/components/ebay-select/examples/disabled-with-label.marko","../../src/components/ebay-select/examples/external-label.marko?raw"],"sourcesContent":["export default \"<h1 style='display: flex; justify-content: space-between; align-items: center;'>\\n    <span>\\n        ebay-select\\n    </span>\\n    <span style='font-weight: normal; font-size: medium; margin-bottom: -15px;'>\\n        DS v1.1.0\\n    </span>\\n</h1>\\n\\nThe `<ebay-select>` is used to create a native `<select>` form element with default browser styling.\\n\\n## Examples and Documentation\\n\\n-   [Storybook](https://ebay.github.io/ebayui-core/?path=/story/form-input-ebay-select)\\n-   [Storybook Docs](https://ebay.github.io/ebayui-core/?path=/docs/form-input-ebay-select)\\n-   [Code Examples](https://github.com/eBay/ebayui-core/tree/master/src/components/ebay-select/examples)\\n\"","import FloatingLabel from \"makeup-floating-label\";\n\nexport default {\n    get selectId() {\n        return this.input.id || this.getElId(\"select\");\n    },\n\n    handleChange(event) {\n        const { selectedIndex } = event.target;\n        const el = this.getEls(\"option\")[selectedIndex];\n        const option = this.input.options[selectedIndex];\n\n        this.state.selectedIndex = selectedIndex;\n\n        // TODO: we should not cast the selected value to a string here, but this is a breaking change.\n        this.emit(\"change\", {\n            index: selectedIndex,\n            selected: [String(option.value)],\n            el,\n        });\n    },\n\n    handleFloatingLabelInit() {\n        this.emit(\"floating-label-init\");\n    },\n\n    onCreate() {\n        this.state = { selectedIndex: 0 };\n    },\n\n    onInput(input) {\n        const { state } = this;\n        input.options = input.options || [];\n        state.selectedIndex = Math.max(\n            0,\n            input.options.findIndex((option) => option.selected)\n        );\n    },\n\n    onMount() {\n        this._setupMakeup();\n\n        const parentForm = this.el.closest(\"form\");\n        if (parentForm) {\n            const { selectedIndex } = document.getElementById(this.selectId);\n            this.subscribeTo(parentForm).on(\"reset\", () => {\n                this.handleChange({ target: { selectedIndex } });\n            });\n        }\n    },\n\n    onUpdate() {\n        this._setupMakeup();\n    },\n\n    _setupMakeup() {\n        // TODO: makeup-floating-label should be updated so that we can remove the event listeners.\n        // It probably makes more sense to just move this functionality into Marko though.\n        if (this.input.floatingLabel) {\n            if (this._floatingLabel) {\n                this._floatingLabel.refresh();\n                this.handleFloatingLabelInit();\n            } else if (document.readyState === \"complete\") {\n                if (this.el) {\n                    this._floatingLabel = new FloatingLabel(this.el);\n                    this.handleFloatingLabelInit();\n                }\n            } else {\n                this.subscribeTo(window).once(\n                    \"load\",\n                    this._setupMakeup.bind(this)\n                );\n            }\n        }\n    },\n};\n","import { processHtmlAttributes } from \"../../common/html-attributes\"\n\nstatic var ignoredAttributes = [\n    \"class\",\n    \"style\",\n    \"borderless\",\n    \"options\",\n    \"floatingLabel\",\n    \"isLarge\"\n];\n\nstatic var itemIgnoredAttributes = [\"selected\", \"optgroup\"];\n\n$ var selectedOption = input.options[state.selectedIndex];\n$ var list = [];\n$ var isLarge = input.isLarge;\n$ var optgroups = {};\n$ var id = component.selectId\n$ input.options.forEach(function(option) {\n    var optgroup = option.optgroup;\n\n    if (optgroup) {\n        if (optgroups[optgroup]) {\n            optgroups[optgroup].options.push(option);\n        } else {\n            list.push(\n                (optgroups[optgroup] = {\n                    optgroup: optgroup,\n                    options: [option]\n                })\n            );\n        }\n    } else {\n        list.push(option);\n    }\n});\n<${input.floatingLabel && \"span\"} class=[\"floating-label\", isLarge && \"floating-label--large\"]>\n    <if(input.floatingLabel)>\n        <label\n            for=id\n            class=[\n                \"floating-label__label\",\n                input.disabled && \"floating-label__label--disabled\"\n            ]>\n            ${input.floatingLabel}\n        </label>\n    </if>\n    <span\n        class=[\n            \"select\",\n            isLarge && \"select--large\",\n            input.borderless && \"select--borderless\",\n            input.class\n        ]\n        style=input.style>\n        <select\n            ...processHtmlAttributes(input, ignoredAttributes)\n            id=id\n            onChange(\"handleChange\")>\n            <for|optionOrGroup| of=list>\n                <if(optionOrGroup.optgroup)>\n                    <optgroup label=optionOrGroup.optgroup>\n                        <for|option| of=optionOrGroup.options>\n                            <option\n                                ...processHtmlAttributes(\n                                    option,\n                                    itemIgnoredAttributes\n                                )\n                                key=\"option[]\"\n                                selected=(option === selectedOption)>\n                                ${option.text}\n                            </option>\n                        </for>\n                    </optgroup>\n                </if>\n                <else>\n                    <option\n                        ...processHtmlAttributes(\n                            optionOrGroup,\n                            itemIgnoredAttributes\n                        )\n                        key=\"option[]\"\n                        selected=(optionOrGroup === selectedOption)>\n                        ${optionOrGroup.text}\n                    </option>\n                </else>\n            </for>\n        </select>\n        <ebay-chevron-down-12-icon/>\n    </span>\n</>\n","class {}\n\n<span class=\"field\">\n    <label class=\"field__label field__label--start\" for=\"select\">\n        Option\n    </label>\n    <ebay-select ...input name=\"formFieldName\" id=\"select\">\n        <@option value=\"1\" text=\"Option 1\"/>\n        <@option value=\"2\" text=\"Option 2\"/>\n        <@option value=\"3\" text=\"Option 3\"/>\n    </ebay-select>\n</span>\n","<form style='text-align: center;'>\n    <div>\n        <ebay-select ...input name='formFieldName'>\n            <@option value='1' text='Option 1'/>\n            <@option value='2' text='Option 2'/>\n            <@option value='3' text='Option 3'/>\n        </ebay-select>\n    </div>\n    <div style='padding: 1em;'>\n        <ebay-button type='reset'>Reset</ebay-button>\n        <ebay-button type='submit'>Submit</ebay-button>\n    </div>\n</form>\n","class {}\n\n<span class=\"field\">\n    <label class=\"field__label field__label--start field__label--disabled\" for=\"select\">\n        Option\n    </label>\n    <ebay-select ...input name=\"formFieldName\" id=\"select\" disabled>\n        <@option value=\"1\" text=\"Option 1\"/>\n        <@option value=\"2\" text=\"Option 2\"/>\n        <@option value=\"3\" text=\"Option 3\"/>\n    </ebay-select>\n</span>\n","export default \"class {}\\n\\n<span class=\\\"field\\\">\\n    <label class=\\\"field__label field__label--start\\\" for=\\\"select\\\">\\n        Option\\n    </label>\\n    <ebay-select ...input name=\\\"formFieldName\\\" id=\\\"select\\\">\\n        <@option value=\\\"1\\\" text=\\\"Option 1\\\"/>\\n        <@option value=\\\"2\\\" text=\\\"Option 2\\\"/>\\n        <@option value=\\\"3\\\" text=\\\"Option 3\\\"/>\\n    </ebay-select>\\n</span>\\n\""],"names":["Readme","_marko_component$3","event","selectedIndex","el","option","input","state","parentForm","FloatingLabel","ignoredAttributes","itemIgnoredAttributes","_marko_registerComponent","_marko_componentType","_marko_template","_marko_component2","_marko_component","_","_marko_renderer","out","_componentDef","_component","$global","selectedOption","options","list","isLarge","optgroups","id","selectId","forEach","optgroup","push","_tagName","floatingLabel","be","_marko_class_merge","bf","disabled","t","ee","borderless","class","_marko_style_merge","style","_marko_merge_attrs","processHtmlAttributes","d","_keyValue","optionOrGroup","_keyScope","concat","_keyValue2","text","_marko_tag","_ebayChevronDown12Icon","ef","Component","_marko_defineComponent","n","_marko_node","_options","Symbol","iterator","_marko_self_iterator","_ebaySelect","_objectSpread","_ebayButton","i","WithLabelCode"],"mappings":"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"}
import{t as D}from"./index-CCz6reEH.js";import{a as le}from"./utils-DWCsNc5l.js";import{r as k,b as T,c as S,t as L,d as de,e as he,p as pe}from"./registry-BVpmXZbM.js";import{_ as V}from"./dynamic-tag-CptWGHl0.js";import{_ as ue}from"./preserve-tag-BhjIElGR.js";import{_ as w}from"./render-tag-mtfFSHEK.js";import{_ as me}from"./of-fallback-C2gEBeKK.js";import{C as ge}from"./index-Marf191J.js";import{s as be,b as ye,c as fe}from"./shared-BV4AsH8J.js";/* empty css                */import{_ as ee}from"./const-element-St90kC48.js";import{i as _e,a as ve}from"./attr-tag-DphMQldM.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";const De=`<h1 style='display: flex; justify-content: space-between; align-items: center;'>
    <span>
        ebay-line-chart
    </span>
    <span style='font-weight: normal; font-size: medium; margin-bottom: -15px;'>
        DS v3.7.0
    </span>
</h1>

The donut chart displays one to five series of data points as an interactive donut chart.

It also allows for a title and a metric value to be displayed.

## Examples and Documentation

-   [Storybook](https://ebay.github.io/ebayui-core/?path=/docs/charts-ebay-donut-chart)
-   [Storybook Docs](https://ebay.github.io/ebayui-core/?path=/docs/charts-ebay-donut-chart)
-   [Code Examples](https://github.com/eBay/ebayui-core/tree/master/src/components/ebay-donut-chart/examples)
`;class Ce extends Marko.Component{}const $="cUdWpSei",f=L($);k.r($,()=>f);const te=Ce;f._=T(function(r,e,a,t,o,c){e.be("div",{class:"chart-legend"},"0",t,null,1),e.be("dl",{class:"chart-legend__list"},"1",t,null,1);{let i=0;for(const s of me(r.items)){const n=`[${i++}]`;e.be("div",{class:"chart-legend__item"},"2"+n,t,null,1),e.be("dt",{class:"chart-legend__label"},"3"+n,t,null,1),e.t(s.name,t),e.ee(),e.be("dd",{class:"chart-legend__value"},"4"+n,t,null,1),e.t(s.value,t),e.ee(),e.ee()}}e.ee(),e.ee()},{t:$},te);f.Component=S(te,f._);function ke(r){r.seriesTypes.pie.prototype.ebayDonut||r.wrap(r.seriesTypes.pie.prototype,"translate",function(e){if(r.seriesTypes.pie.prototype.ebayDonut=!0,e.call(this),this.points.length===1)return;const a=this.center[2],o=2*Math.asin(5/a);this.points.forEach(c=>{c.shapeArgs.start+=o/2,c.shapeArgs.end-=o/2})})}class Te extends Marko.Component{}const x="GDsDspdn",C=L(x),Se=ee("br",null,0);k.r(x,()=>Te);const re={};C._=T(function(r,e,a,t,o,c){e.be("div",{class:"donut-tooltip tooltip__overlay",role:"tooltip"},"0",t,null,0),e.be("div",{class:"tooltip__mask"},"1",t,null,1),e.be("div",{class:"tooltip__cell"},"2",t,null,1),e.be("div",{class:"tooltip__content"},"3",t,null,1),e.be("b",null,"4",t,null,0),e.t(r.name,t),e.ee(),e.n(Se,t),r.tooltip?e.t(r.tooltip,t):e.t(r.value,t),e.ee(),e.ee(),e.ee(),e.ee()},{t:x,s:!0},re);C.Component=S(re,C._);class Le extends Marko.Component{onCreate(){this.cdnLoader=new ge(this,{stagger:!0,key:"highcharts",types:["src","src"],files:["highcharts.js","accessibility.js","pattern-fill.js"],setLoading:()=>{},handleError:this.handleError.bind(this),handleSuccess:this.handleSuccess.bind(this)})}handleError(e){this.emit("load-error",e)}handleSuccess(){this._initializeHighchartsExtensions(),this._setupChart()}onMount(){this.cdnLoader.setOverrides([this.input.cdnHighcharts,this.input.cdnHighchartsAccessibility,this.input.cdnHighchartsPatternFill],this.input.version??"11.4.0").mount()}getContainerId(){return`ebay-donut-graph-${this.id}`}_initializeHighchartsExtensions(){ke(Highcharts)}_setupChart(){const e=this.input.series.map(s=>({...s,type:s.type||"pie"}));e.length>1&&console.warn("Donut chart only supports one series");const a=be(e[0]),t=this.getChartConfig(),o=this.getPlotOptions(),c=this.getTooltipConfig(),i={chart:t,colors:a,title:{text:void 0},plotOptions:o,series:e,tooltip:c,credits:{enabled:!1}};this.chartRef=Highcharts.chart(this.getContainerId(),i)}getChartConfig(){return{type:"pie",spacing:[0,0,0,0],margin:[0,0,0,0],backgroundColor:ye,style:{fontFamily:fe}}}getPlotOptions(){return{pie:{description:this.input.highchartsDescription,size:"100%",thickness:10,allowPointSelect:!1,cursor:"pointer",borderRadius:"30%",dataLabels:{enabled:!1},states:{hover:{halo:{size:0}}}}}}getTooltipConfig(){return{formatter:function(e){return C.renderToString({name:this.point.name,value:`${this.point.y}`})},hideDelay:250,useHTML:!0,backgroundColor:"transparent",padding:0,borderWidth:0,borderRadius:0,outside:!0,shadow:!1,shared:!0,style:{fontSize:"12px"}}}getLegendItems(){const{series:e}=this.input;return e[0].data.map(a=>({name:a.name,value:a.y}))}}const A="LBmpsvtc",_=L(A),ae=_;k.r(A,()=>_);const se=Le;_._=T(function(r,e,a,t,o,c){const{title:i,metricValue:s,metricLabel:n,class:ne,series:$e,highchartsDescription:xe,...oe}=r;e.be("div",de({class:he([ne,"donut-chart"])},pe(oe)),"0",t,null,4),e.be("div",{class:"donut-chart__grid"},"1",t,null,1),i&&(e.be("div",{class:"donut-chart__title"},"2",t,null,1),typeof i=="string"?e.t(i,t):V(e,i,null,null,null,null,a,"3"),e.ee()),(n||s)&&(e.be("div",{class:"donut-chart__metric"},"4",t,null,1),s&&(e.be("div",{class:"donut-chart__metric-value"},"5",t,null,1),typeof s=="string"?e.t(s,t):V(e,s,null,null,null,null,a,"6"),e.ee()),n&&(e.be("div",{class:"donut-chart__metric-label"},"7",t,null,1),typeof n=="string"?e.t(n,t):V(e,n,null,null,null,null,a,"8"),e.ee()),e.ee()),w(ue,{n:!0,renderBody:ce=>{ce.e("div",{id:t.getContainerId(),class:"donut-chart__graph"},"9",t,0,1)}},e,a,"9"),e.be("div",{class:"donut-chart__legend"},"10",t,null,1),w(f,{items:t.getLegendItems()},e,a,"11"),e.ee(),e.ee(),e.ee()},{t:A},se);_.Component=S(se,_._);const m=[{name:"Portion 1",y:20},{name:"Portion 2",y:40},{name:"Portion 3",y:50},{name:"Portion 4",y:30},{name:"Portion 5",y:10}],B="RTBOlcWj",v=L(B),Ve=ee("h1",null,1).e("i",null,1).t("Donut Chart");k.r(B,()=>v);const ie={};v._=T(function(r,e,a,t,o,c){w(ae,_e(()=>{ve("title",{renderBody:i=>{i.n(Ve,t)}})},{series:[{data:m}]}),e,a,"0")},{t:B,i:!0},ie);v.Component=S(ie,v._);const we=`import { data } from "./data.json";

<ebay-donut-chart series=[{ data }]>
    <@title>
        <h1><i>Donut Chart</i></h1>
    </@title>
</ebay-donut-chart>
`,b=r=>({input:le(r)}),je={title:"charts/ebay-donut-chart",component:ae,parameters:{docs:{description:{component:De}},layout:"fullscreen"},argTypes:{title:{type:"string|@title",description:"A title displayed above the graph"},metricValue:{type:"string|@metricValue",description:"A primary metric value that summarizes the chart"},metricLabel:{type:"string|@metricLabel",description:"A supporting label for the primary metric value"},class:{type:{name:"string",require:!1},description:"A class name that will be added to the main chart container"},cdnHighcharts:{type:{name:"string",require:!1},description:"CDN url override for loading highcharts"},cdnHighchartsAccessibility:{type:{name:"string",require:!1},description:"CDN url override for loading highcharts accessibility module"},cdnHighchartsPatternFill:{type:{name:"string",require:!1},description:"CDN url override for loading highcharts pattern-fill module"},version:{type:{name:"string",require:!1},description:"Highcharts version to load from CDN"},series:{type:{name:"array",require:!0},description:"Highcharts series data for the chart. Only one series is supported for donut chart."},highchartsDescription:{type:{name:"string",require:!1},description:"Highcharts description, not visible on the chart"}}},l=b.bind({});l.args={series:[{data:m.slice(0,3)}],title:"Donut chart title",metricValue:"174 Total",metricLabel:"3.78% return rate",highchartsDescription:"Donut chart description"};l.parameters={docs:{source:{code:D("ebay-donut-chart",l.args)}}};const d=b.bind({});d.args={series:[{data:m.slice(0,2)}],title:"Donut chart with two values",metricValue:"174 Total",metricLabel:"3.78% return rate",highchartsDescription:"Donut chart description"};d.parameters={docs:{source:{code:D("ebay-donut-chart",d.args)}}};const h=b.bind({});h.args={series:[{data:m.slice(0,3)}],title:"Donut chart with three values",metricValue:"174 Total",metricLabel:"3.78% return rate",highchartsDescription:"Donut chart description"};h.parameters={docs:{source:{code:D("ebay-donut-chart",h.args)}}};const p=b.bind({});p.args={series:[{data:m.slice(0,4)}],title:"Donut chart with four values",metricValue:"174 Total",metricLabel:"3.78% return rate",highchartsDescription:"Donut chart description"};p.parameters={docs:{source:{code:D("ebay-donut-chart",p.args)}}};const u=b.bind({});u.args={series:[{data:m}],title:"Donut chart with five values",metricValue:"174 Total",metricLabel:"3.78% return rate",highchartsDescription:"Donut chart description"};u.parameters={docs:{source:{code:D("ebay-donut-chart",u.args)}}};const y=b.bind({});y.args={series:[{data:m.slice(0,4)}],title:"Donut chart title, no metrics",highchartsDescription:"Donut chart description"};const g=r=>({input:r,component:v});g.args={};g.parameters={docs:{source:{code:we}}};var H,R,E;l.parameters={...l.parameters,docs:{...(H=l.parameters)==null?void 0:H.docs,source:{originalSource:`args => ({
  input: addRenderBodies(args)
})`,...(E=(R=l.parameters)==null?void 0:R.docs)==null?void 0:E.source}}};var P,F,M;d.parameters={...d.parameters,docs:{...(P=d.parameters)==null?void 0:P.docs,source:{originalSource:`args => ({
  input: addRenderBodies(args)
})`,...(M=(F=d.parameters)==null?void 0:F.docs)==null?void 0:M.source}}};var q,z,I;h.parameters={...h.parameters,docs:{...(q=h.parameters)==null?void 0:q.docs,source:{originalSource:`args => ({
  input: addRenderBodies(args)
})`,...(I=(z=h.parameters)==null?void 0:z.docs)==null?void 0:I.source}}};var N,O,W;p.parameters={...p.parameters,docs:{...(N=p.parameters)==null?void 0:N.docs,source:{originalSource:`args => ({
  input: addRenderBodies(args)
})`,...(W=(O=p.parameters)==null?void 0:O.docs)==null?void 0:W.source}}};var j,G,U;u.parameters={...u.parameters,docs:{...(j=u.parameters)==null?void 0:j.docs,source:{originalSource:`args => ({
  input: addRenderBodies(args)
})`,...(U=(G=u.parameters)==null?void 0:G.docs)==null?void 0:U.source}}};var J,K,Q;y.parameters={...y.parameters,docs:{...(J=y.parameters)==null?void 0:J.docs,source:{originalSource:`args => ({
  input: addRenderBodies(args)
})`,...(Q=(K=y.parameters)==null?void 0:K.docs)==null?void 0:Q.source}}};var X,Y,Z;g.parameters={...g.parameters,docs:{...(X=g.parameters)==null?void 0:X.docs,source:{originalSource:`args => ({
  input: args,
  component: WithAttrTagsTemplate
})`,...(Z=(Y=g.parameters)==null?void 0:Y.docs)==null?void 0:Z.source}}};const Ge=["Standard","TwoValues","ThreeValues","FourValues","FiveValues","NoMetrics","WithAttributeTags"];export{u as FiveValues,p as FourValues,y as NoMetrics,l as Standard,h as ThreeValues,d as TwoValues,g as WithAttributeTags,Ge as __namedExportsOrder,je as default};

import{t as _,r as w,a as E,d as M,m as y,c as p,s as b,p as k}from"./merge-attrs.9e0d7be9.js";/* empty css             */import{d as L}from"./dynamic-tag.70156c9d.js";import{b as A}from"./index.50b31a36.js";import{r as g}from"./render-tag.1a0b986f.js";import{_ as P}from"./index.6c3a3a4b.js";import{a as V,r as K}from"./index.b652c17c.js";import{c as N}from"./index.6c907e4a.js";import{h as O,a as R}from"./index.cfa4da37.js";import{m as j}from"./index.2f593d82.js";function S(){let t,e="";return{getIndex:function(s,a,r){e=e.concat(a);let d;if(s==null)return-1;const n=e.toLocaleLowerCase();return d=[...s].findIndex(l=>l.textContent.toLocaleLowerCase().startsWith(n)),d===-1&&(d=[...s].findIndex(l=>l.textContent.toLocaleLowerCase().includes(n))),setTimeout(()=>{clearTimeout(t),e=""},r),d},destroy:function(){}}}const H=1300,U=Object.assign({},j,{toggleItemChecked(t,e,s){const a=this.isRadio()&&t!==this.state.checkedIndex;this.toggleChecked(t),a?this.emitComponentEvent({index:t,eventType:"change",el:s,originalEvent:e}):this.type!=="radio"&&this.emitComponentEvent({index:t,eventType:this.type?"change":"select",el:s,originalEvent:e}),this.rovingTabindex&&(this.tabindexPosition=this.rovingTabindex.items.findIndex(r=>r.tabIndex===0))},handleItemClick(t,e,s){this.toggleItemChecked(t,e,s)},handleItemKeydown(t,e,s){O(e,()=>{this.emitComponentEvent({eventType:"keydown",originalEvent:e,index:t})}),R(e,()=>this.toggleItemChecked(t,e,s))},handleItemKeypress({key:t}){const e=this.getTypeaheadIndex(this.getEl("menu").children,t,this.input.typeaheadTimeoutLength||H);e!==-1&&(this.tabindexPosition=this.rovingTabindex.index=e)},emitComponentEvent({eventType:t,el:e,originalEvent:s,index:a}){const r=this.getCheckedIndexes(),d=this.type==="checkbox",n={el:e,originalEvent:s};d&&r.length>1?Object.assign(n,{index:a,indexes:this.getCheckedIndexes(),checked:this.getCheckedIndexes(),checkedValues:this.getCheckedValues()}):d||this.isRadio()?Object.assign(n,{index:a,checked:this.getCheckedIndexes(),checkedValues:this.getCheckedValues()}):Object.assign(n,{index:a,checked:[a]}),this.emit(`${t}`,n)},onInput(t){this.state=this.getInputState(t)},onRender(){typeof window<"u"&&this._cleanupMakeup()},onMount(){this.tabindexPosition=0,this._setupMakeup()},onUpdate(){this._setupMakeup()},onDestroy(){this._cleanupMakeup()},_setupMakeup(){this.contentEl=this.getEl("menu"),this.rovingTabindex=N(this.contentEl,"div",{index:this.tabindexPosition,autoReset:null}),V(this.contentEl);const{getIndex:t,destroy:e}=S();this.getTypeaheadIndex=t,this.destroyTypeahead=e},_cleanupMakeup(){this.rovingTabindex&&(this.rovingTabindex.destroy(),K(this.contentEl)),this.destroyTypeahead&&this.destroyTypeahead()}}),u="6hbJ9uLV",m=_(u),D=m;var W=["class","style","classPrefix","type","reverse","fixWidth","items"],$=["class","style","value","checked","badgeNumber","badgeAriaLabel"];w.exports.r(u,()=>m);const f=U;m._=E(function(t,e,s,a,r,d){var n=t.type==="radio",l=t.type==="checkbox",x=t.type!=="checkbox"&&t.type!=="radio",o=t.classPrefix||"menu",C=a.getSeparatorMap(t);e.be("span",y(k(t,W),{class:p([t.classPrefix?"".concat(o,"__menu"):"menu",t.reverse&&"".concat(o,"__menu--reverse"),t.fixWidth&&"".concat(o,"__menu--fix-width"),t.class]),style:b(t.style)}),"0",a,null,4),e.be("div",{role:"menu",class:p("".concat(o,"__items")),id:s.elId("menu")},"@menu",a,null,0);{let T=0;for(const i of a.items||[]){let c=T++;const h="[".concat(c,"]");var I=n?"menuitemradio":l?"menuitemcheckbox":"menuitem",v=a.isChecked(c);C[c]&&e.e("hr",{class:p("".concat(o,"__separator")),role:"separator"},"1"+h,a,0,0),e.be("div",y(k(i,$),{class:p(["".concat(o,"__item"),i.class,i.badgeNumber&&"".concat(o,"__item--badged")]),style:b(i.style),"aria-checked":!x&&(v?"true":"false"),"aria-disabled":i.disabled&&"true",href:i.disabled?null:i.href,role:I}),"@item[]",a,null,4,{onclick:s.d("click",!i.disabled&&"handleItemClick",!1,[c]),onkeydown:s.d("keydown",!i.disabled&&"handleItemKeydown",!1,[c]),onkeypress:s.d("keypress",!i.disabled&&"handleItemKeypress",!1)}),e.be("span",null,"2"+h,a,null,0),L(e,i.renderBody,null,null,null,null,s,"3"+h),i.badgeNumber&&g(A,{type:"menu",number:i.badgeNumber},e,s,"4"+h),e.ee(),g(P,{},e,s,"5"+h),e.ee()}}e.ee(),e.ee()},{t:u},f);m.Component=M(f,m._);export{D as C};
//# sourceMappingURL=index.2c18e3c5.js.map

import{t as g}from"./index.bcb3df20.js";import{a as u}from"./utils.f000f876.js";import{t as b,r as v,a as f,d as w,c as d,m as T,p as x}from"./merge-attrs.9e0d7be9.js";import{_,a as L}from"./index.08a3592f.js";import{r as n}from"./render-tag.1a0b986f.js";import{_ as V}from"./index.0ffc8829.js";import{C as E}from"./index.e565fd75.js";import"./_commonjsHelpers.b8add541.js";import"./_commonjs-dynamic-modules.30ae7933.js";import"./index.aa2d3137.js";/* empty css             */import"./index.e64e9ede.js";const A=`<h1 style='display: flex; justify-content: space-between; align-items: center;'>
    <span>
        ebay-3d-viewer
    </span>
    <span style='font-weight: normal; font-size: medium; margin-bottom: -15px;'>
        DS v1.0.0
    </span>
</h1>

## ebay-3d-viewer (_ALPHA_, some APIs might change)

Under the hood, this uses google model viewer. All APIs are passthough to the model viewer. To use methods on the model-viewer, you can access \`viewer\` object on the component.

## Examples and Documentation

-   [Storybook](https://ebay.github.io/ebayui-core/?path=/story/media-ebay-3d-viewer)
-   [Storybook Docs](https://ebay.github.io/ebayui-core/?path=/docs/media-ebay-3d-viewer)
-   [Code Examples](https://github.com/eBay/ebayui-core/tree/master/src/components/ebay-3d-viewer/examples)
`;const k={handleError(e){this.state.failed=!0,this.state.isLoaded=!0,this.emit("load-error",e)},onCreate(){this.state={showLoading:!1,isLoaded:!0,failed:!1},this.cdnLoader=new E(this,{key:"modelViewer",types:["module"],files:["model-viewer.min.js"],setLoading:e=>{this.state.showLoading=e},handleError:this.handleError.bind(this),handleSuccess:this.handleSuccess.bind(this)})},handleSuccess(){this.state.isLoaded=!0,this.state.showLoading=!1,this.state.failed=!1},onMount(){this.viewer=this.getEl("3d-viewer"),this._loadViewer()},_loadViewer(){this.state.failed=!1,this.state.isLoaded=!1,this.cdnLoader.setOverrides([this.input.cdnUrl],this.input.version).mount()}},l="tKxfwwV1",o=b(l),C=o;var S=["class","src","a11yText"];v.exports.r(l,()=>o);const h=k;o._=f(function(e,t,r,s,i,N){t.be("div",{class:d(["three-d-player",e.class])},"0",s,null,1);{const p="model-viewer";t.e(p,T({"camera-controls":"","touch-action":"pan-y",alt:e.a11yText,src:e.src},x(e,S)),"@3d-viewer",s,0,4,{onerror:r.d("error","handleError",!1),onload:r.d("load","emit",!1,["load"]),onprogress:r.d("progress","emit",!1,["progress"]),"onmodel-visibility":r.d("model-visibility","emit",!1,["model-visibility"]),"onposter-dismissed":r.d("poster-dismissed","emit",!1,["poster-dismissed"]),"onrender-scale":r.d("render-scale","emit",!1,["render-scale"])}),t.be("div",{class:d(["three-d-player__overlay",!i.failed&&"three-d-player__overlay--hidden"])},"1",s,null,1),n(L,{},t,r,"2"),t.be("div",{class:"three-d-player__overlay-text"},"3",s,null,1),e.errorText?t.t(e.errorText,s):t.t("An error has occurred",s),t.ee(),t.ee(),t.be("div",{class:d(["three-d-player__overlay",i.isLoaded&&"three-d-player__overlay--hidden"])},"4",s,null,1),i.showLoading?n(V,{a11yText:e.a11yLoadText||"Loading"},t,r,"6"):n(_,{a11yText:e.a11yStartText||"Click to start"},t,r,"5"),t.ee()}t.ee()},{t:l},h);o.Component=w(h,o._);const P=e=>({input:u(e)}),D={title:"media/ebay-3d-viewer",component:C,parameters:{docs:{description:{component:A}}},argTypes:{src:{control:{type:"text"},description:"The asset to load"},cdnVersion:{control:{type:"text"},table:{category:"",defaultValue:{summary:"2.1.1"}},description:"The version of the assets to load from CDN. This can be overriden in case the current verion has issues"},cdnUrl:{control:{type:"text"},description:"This will override the whole URL used for downloading the media player assets. This is mainly used if you want to use your own CDN."},a11yText:{control:{type:"text"},table:{category:"Accessibility",defaultValue:{summary:""}},description:"The text for screen readers to read out when interacting with the 3d player."},a11yStartText:{control:{type:"text"},table:{category:"Accessibility",defaultValue:{summary:"Click to start"}},description:"Text for start icon to load viewer"},a11yLoadText:{control:{type:"text"},table:{category:"Accessibility",defaultValue:{summary:"Loading"}},description:"Text for loading icon loading viewer"},errorText:{control:{type:"text"},table:{category:"Accessibility",defaultValue:{summary:"An error has occurred"}},description:"Text to show error message"},onAction:{action:"on-action",description:"Triggered when interacting with player",table:{category:"Events",defaultValue:{summary:"{ }"}}},onProgress:{action:"on-progress",description:"Triggered ",table:{category:"Events",defaultValue:{summary:"{ }"}}},onLoad:{action:"on-load",description:"Triggered when loading is complete",table:{category:"Events",defaultValue:{summary:"{ }"}}},onLoadError:{action:"on-load-error",description:"Triggered when loading error happens",table:{category:"Events",defaultValue:{summary:"{ }"}}},"on-model-visibility":{action:"on-model-visibility",description:"Triggered when model is visible",table:{category:"Events",defaultValue:{summary:"{ }"}}},"on-render-scale":{action:"on-render-scale",description:"Triggered when model scales",table:{category:"Events",defaultValue:{summary:"{ }"}}},"on-poster-dismissed":{action:"on-poster-dismissed",description:"Triggered when there's a placeholder image and it is removed",table:{category:"Events",defaultValue:{summary:"{ }"}}}}},a=P.bind({});a.args={src:"https://ir.ebaystatic.com/cr/v/c1/ebayui/3d/v1/image.glb",a11yText:"View these shoes for sale."};a.parameters={docs:{source:{code:g("ebay-3d-viewer",a.args)}}};var c,m,y;a.parameters={...a.parameters,docs:{...(c=a.parameters)==null?void 0:c.docs,source:{originalSource:`args => ({
  input: addRenderBodies(args)
})`,...(y=(m=a.parameters)==null?void 0:m.docs)==null?void 0:y.source}}};const F=["Default"];export{a as Default,F as __namedExportsOrder,D as default};
//# sourceMappingURL=3dViewer.stories.34103a7e.js.map

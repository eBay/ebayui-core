import{t as _}from"./index-CCz6reEH.js";import{a as x}from"./utils-DWCsNc5l.js";import{t as T,r as L,b as V,e as d,f as k,p as E,d as A}from"./registry-Cc025Aii.js";import{_ as C,a as S}from"./index-Ce_6SXfo.js";import{_ as n}from"./render-tag-BBOJ9dEX.js";import{_ as P}from"./index-Te3tZzU0.js";import{C as N}from"./index-Marf191J.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./index-BH_jsMDn.js";/* empty css             */import"./index-AHRB2UQ1.js";const R=`<h1 style='display: flex; justify-content: space-between; align-items: center;'>
    <span>
        ebay-3d-viewer
    </span>
    <span style='font-weight: normal; font-size: medium; margin-bottom: -15px;'>
        DS v1.0.0
    </span>
</h1>

## ebay-3d-viewer (_ALPHA_, some APIs might change)

Under the hood, this uses google model viewer. All APIs are passthough to the model viewer. To use methods on the model-viewer, you can access \`viewer\` object on the component.

## Examples and Documentation

-   [Storybook](https://ebay.github.io/ebayui-core/?path=/story/media-ebay-3d-viewer)
-   [Storybook Docs](https://ebay.github.io/ebayui-core/?path=/docs/media-ebay-3d-viewer)
-   [Code Examples](https://github.com/eBay/ebayui-core/tree/master/src/components/ebay-3d-viewer/examples)
`;class U extends Marko.Component{handleError(e){this.state.failed=!0,this.state.isLoaded=!0,this.emit("load-error",e)}onCreate(){this.state={showLoading:!1,isLoaded:!0,failed:!1},this.cdnLoader=new N(this,{key:"modelViewer",types:["module"],files:["model-viewer.min.js"],setLoading:e=>{this.state.showLoading=e},handleError:this.handleError.bind(this),handleSuccess:this.handleSuccess.bind(this)})}handleSuccess(){this.state.isLoaded=!0,this.state.showLoading=!1,this.state.failed=!1}onMount(){this.viewer=this.getEl("3d-viewer"),this._loadViewer()}_loadViewer(){this.state.failed=!1,this.state.isLoaded=!1,this.cdnLoader.setOverrides(this.input.cdnUrl?[this.input.cdnUrl]:void 0,this.input.version).mount()}}const l="tKxfwwV1",s=T(l),j=s;L.r(l,()=>s);const p=U;s._=V(function(o,e,t,r,i,I){const{class:u,src:g,errorText:c,a11yText:b,a11yLoadText:v,a11yStartText:f,...w}=o;e.be("div",{class:d(["three-d-player",u])},"0",r,null,1),e.e("model-viewer",k({"camera-controls":"","touch-action":"pan-y",alt:b,src:g},E(w)),"@3d-viewer",r,0,4,{onerror:t.d("error","handleError",!1),onload:t.d("load","emit",!1,["load"]),onprogress:t.d("progress","emit",!1,["progress"]),"onmodel-visibility":t.d("model-visibility","emit",!1,["model-visibility"]),"onposter-dismissed":t.d("poster-dismissed","emit",!1,["poster-dismissed"]),"onrender-scale":t.d("render-scale","emit",!1,["render-scale"])}),e.be("div",{class:d(["three-d-player__overlay",!i.failed&&"three-d-player__overlay--hidden"])},"1",r,null,1),n(C,{},e,t,"2"),e.be("div",{class:"three-d-player__overlay-text"},"3",r,null,1),c?e.t(c,r):e.t("An error has occurred",r),e.ee(),e.ee(),e.be("div",{class:d(["three-d-player__overlay",i.isLoaded&&"three-d-player__overlay--hidden"])},"4",r,null,1),i.showLoading?n(P,{a11yText:v||"Loading"},e,t,"6"):n(S,{a11yText:f||"Click to start"},e,t,"5"),e.ee(),e.ee()},{t:l},p);s.Component=A(p,s._);const B=o=>({input:x(o)}),X={title:"media/ebay-3d-viewer",component:j,parameters:{docs:{description:{component:R}}},argTypes:{src:{control:{type:"text"},description:"The asset to load"},cdnVersion:{control:{type:"text"},table:{category:"",defaultValue:{summary:"2.1.1"}},description:"The version of the assets to load from CDN. This can be overriden in case the current verion has issues"},cdnUrl:{control:{type:"text"},description:"This will override the whole URL used for downloading the media player assets. This is mainly used if you want to use your own CDN."},a11yText:{control:{type:"text"},table:{category:"Accessibility",defaultValue:{summary:""}},description:"The text for screen readers to read out when interacting with the 3d player."},a11yStartText:{control:{type:"text"},table:{category:"Accessibility",defaultValue:{summary:"Click to start"}},description:"Text for start icon to load viewer"},a11yLoadText:{control:{type:"text"},table:{category:"Accessibility",defaultValue:{summary:"Loading"}},description:"Text for loading icon loading viewer"},errorText:{control:{type:"text"},table:{category:"Accessibility",defaultValue:{summary:"An error has occurred"}},description:"Text to show error message"},onAction:{action:"on-action",description:"Triggered when interacting with player",table:{category:"Events",defaultValue:{summary:"{ }"}}},onProgress:{action:"on-progress",description:"Triggered ",table:{category:"Events",defaultValue:{summary:"{ }"}}},onLoad:{action:"on-load",description:"Triggered when loading is complete",table:{category:"Events",defaultValue:{summary:"{ }"}}},"onLoad-error":{action:"on-load-error",description:"Triggered when loading error happens",table:{category:"Events",defaultValue:{summary:"{ }"}}},"onModel-visibility":{action:"on-model-visibility",description:"Triggered when model is visible",table:{category:"Events",defaultValue:{summary:"{ }"}}},"onRender-scale":{action:"on-render-scale",description:"Triggered when model scales",table:{category:"Events",defaultValue:{summary:"{ }"}}},"onPoster-dismissed":{action:"on-poster-dismissed",description:"Triggered when there's a placeholder image and it is removed",table:{category:"Events",defaultValue:{summary:"{ }"}}}}},a=B.bind({});a.args={src:"https://ir.ebaystatic.com/cr/v/c1/ebayui/3d/v1/image.glb",a11yText:"View these shoes for sale."};a.parameters={docs:{source:{code:_("ebay-3d-viewer",a.args)}}};var m,h,y;a.parameters={...a.parameters,docs:{...(m=a.parameters)==null?void 0:m.docs,source:{originalSource:`args => ({
  input: addRenderBodies(args)
})`,...(y=(h=a.parameters)==null?void 0:h.docs)==null?void 0:y.source}}};const Y=["Default"];export{a as Default,Y as __namedExportsOrder,X as default};

{"version":3,"file":"index.1d7fdad6.js","sources":["../../node_modules/makeup-active-descendant/dist/mjs/index.js","../../src/common/element-scroll/index.js"],"sourcesContent":["import * as NavigationEmitter from \"makeup-navigation-emitter\";\nimport nextID from \"makeup-next-id\";\nconst defaultOptions = {\n  activeDescendantClassName: \"active-descendant\",\n  autoInit: \"none\",\n  autoReset: \"none\",\n  autoScroll: false,\n  axis: \"both\",\n  wrap: false\n};\nfunction onModelInit(e) {\n  const { items, toIndex } = e.detail;\n  const itemEl = items[toIndex];\n  if (itemEl) {\n    itemEl.classList.add(this._options.activeDescendantClassName);\n    this._focusEl.setAttribute(\"aria-activedescendant\", itemEl.id);\n  }\n  this._el.dispatchEvent(new CustomEvent(\"activeDescendantInit\", { detail: e.detail }));\n}\nfunction onModelChange(e) {\n  const { fromIndex, toIndex } = e.detail;\n  const fromItem = this.items[fromIndex];\n  const toItem = this.items[toIndex];\n  if (fromItem) {\n    fromItem.classList.remove(this._options.activeDescendantClassName);\n  }\n  if (toItem) {\n    toItem.classList.add(this._options.activeDescendantClassName);\n    this._focusEl.setAttribute(\"aria-activedescendant\", toItem.id);\n    if (this._options.autoScroll && this._containerEl) {\n      this._containerEl.scrollTop = toItem.offsetTop - this._containerEl.offsetHeight / 2;\n    }\n  }\n  this._el.dispatchEvent(new CustomEvent(\"activeDescendantChange\", { detail: e.detail }));\n}\nfunction onModelReset(e) {\n  const toIndex = e.detail.toIndex;\n  const activeClassName = this._options.activeDescendantClassName;\n  this.items.forEach(function(el) {\n    el.classList.remove(activeClassName);\n  });\n  if (toIndex !== null && toIndex !== -1) {\n    const itemEl = this.items[toIndex];\n    itemEl.classList.add(activeClassName);\n    this._focusEl.setAttribute(\"aria-activedescendant\", itemEl.id);\n  } else {\n    this._focusEl.removeAttribute(\"aria-activedescendant\");\n  }\n  this._el.dispatchEvent(new CustomEvent(\"activeDescendantReset\", { detail: e.detail }));\n}\nfunction onModelMutation(e) {\n  const { toIndex } = e.detail;\n  const activeDescendantClassName = this._options.activeDescendantClassName;\n  this.items.forEach(function(item, index) {\n    nextID(item);\n    if (index !== toIndex) {\n      item.classList.remove(activeDescendantClassName);\n    } else {\n      item.classList.add(activeDescendantClassName);\n    }\n  });\n  this._el.dispatchEvent(new CustomEvent(\"activeDescendantMutation\", { detail: e.detail }));\n}\nclass ActiveDescendant {\n  constructor(el) {\n    this._el = el;\n    this._onMutationListener = onModelMutation.bind(this);\n    this._onChangeListener = onModelChange.bind(this);\n    this._onResetListener = onModelReset.bind(this);\n    this._onInitListener = onModelInit.bind(this);\n    this._el.addEventListener(\"navigationModelMutation\", this._onMutationListener);\n    this._el.addEventListener(\"navigationModelChange\", this._onChangeListener);\n    this._el.addEventListener(\"navigationModelReset\", this._onResetListener);\n    this._el.addEventListener(\"navigationModelInit\", this._onInitListener);\n  }\n  destroy() {\n    this._el.removeEventListener(\"navigationModelMutation\", this._onMutationListener);\n    this._el.removeEventListener(\"navigationModelChange\", this._onChangeListener);\n    this._el.removeEventListener(\"navigationModelReset\", this._onResetListener);\n    this._el.removeEventListener(\"navigationModelInit\", this._onInitListener);\n  }\n}\nclass LinearActiveDescendant extends ActiveDescendant {\n  constructor(el, focusEl, itemContainerEl, itemSelector, selectedOptions) {\n    super(el);\n    this._options = Object.assign({}, defaultOptions, selectedOptions);\n    this._focusEl = focusEl;\n    this._itemContainerEl = itemContainerEl;\n    this._itemSelector = itemSelector;\n    nextID(this._itemContainerEl);\n    if (this._itemContainerEl !== this._focusEl) {\n      focusEl.setAttribute(\"aria-owns\", this._itemContainerEl.id);\n    }\n    this._navigationEmitter = NavigationEmitter.createLinear(el, itemSelector, {\n      autoInit: this._options.autoInit,\n      autoReset: this._options.autoReset,\n      axis: this._options.axis,\n      ignoreByDelegateSelector: this._options.ignoreByDelegateSelector,\n      wrap: this._options.wrap\n    });\n    this.items.forEach(function(itemEl) {\n      nextID(itemEl);\n    });\n  }\n  get index() {\n    return this._navigationEmitter.model.index;\n  }\n  set index(newIndex) {\n    this._navigationEmitter.model.index = newIndex;\n  }\n  reset() {\n    this._navigationEmitter.model.reset();\n  }\n  get currentItem() {\n    return this._navigationEmitter.model.currentItem;\n  }\n  get items() {\n    return this._navigationEmitter.model.items;\n  }\n  set wrap(newWrap) {\n    this._navigationEmitter.model.options.wrap = newWrap;\n  }\n  destroy() {\n    super.destroy();\n    this._navigationEmitter.destroy();\n  }\n}\nfunction createLinear(el, focusEl, itemContainerEl, itemSelector, selectedOptions) {\n  return new LinearActiveDescendant(el, focusEl, itemContainerEl, itemSelector, selectedOptions);\n}\nexport {\n  createLinear\n};\n","/**\n * Scrolls the parent element until the child element is in view\n */\nfunction scroll(el) {\n    if (!el) {\n        return;\n    }\n\n    const parentEl = el && el.parentElement;\n    const offsetBottom = el.offsetTop + el.offsetHeight;\n    const scrollBottom = parentEl.scrollTop + parentEl.offsetHeight;\n\n    if (el.offsetTop < parentEl.scrollTop) {\n        parentEl.scrollTop = el.offsetTop;\n    } else if (offsetBottom > scrollBottom) {\n        parentEl.scrollTop = offsetBottom - parentEl.offsetHeight;\n    }\n}\n\nexport { scroll };\n"],"names":["defaultOptions","onModelInit","items","toIndex","itemEl","onModelChange","fromIndex","fromItem","toItem","onModelReset","activeClassName","el","onModelMutation","activeDescendantClassName","item","index","nextID","ActiveDescendant","LinearActiveDescendant","focusEl","itemContainerEl","itemSelector","selectedOptions","NavigationEmitter.createLinear","newIndex","newWrap","createLinear","scroll","parentEl","offsetBottom","scrollBottom"],"mappings":"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"}
import{a as Q}from"./utils-44f5c40b.js";import{t as Y}from"./index-a17a703b.js";import{t as ee,r as te,_ as re,g as ue,p as I,h as M,a as ae}from"./merge-attrs-f99eec0a.js";import{_ as me,a as A,b as pe}from"./index-3b599b15.js";import{g as ge}from"./index-50d4c0be.js";/* empty css             *//* empty css                    */import{_ as O}from"./render-tag-73fdbff3.js";import{_ as k}from"./dynamic-tag-c0238d78.js";import{_ as C}from"./self-iterator-81a0b488.js";import{_ as be}from"./index-a73c03e9.js";import{r as he}from"./index-ad737ebd.js";import"./_commonjsHelpers-725317a4.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./index-1aa10c61.js";import"./index-2608987d.js";/* empty css               *//* empty css             */import"./index-dbabaa90.js";import"./index-a26296bc.js";import"./index-61af72bd.js";import"./index-12c3b6d7.js";import"./index-e7bc7cbd.js";/* empty css                    */import"./index-6adea897.js";import"./index-f0b17080.js";import"./index-d3b41ba9.js";/* empty css             */import"./index-7c38a6fb.js";import"./index-2e2d6c5e.js";import"./index-002669f7.js";import"./index-5f81e013.js";import"./index-6cab0bb0.js";const ye=`<h1 style='display: flex; justify-content: space-between; align-items: center;'>
    <span>
        ebay-pagination
    </span>
    <span style='font-weight: normal; font-size: medium; margin-bottom: -15px;'>
        DS v1.1.0
    </span>
</h1>

The \`<ebay-pagination>\` is a tag used to create a pagination navigation. It will display up to 9 page links.

**Note:** If you want to have client side or ajax based navigation then you should omit the \`href\` attribute on each item. This will cause each item to be \`<button>\` instead of an \`<a>\`.

## Examples and Documentation

-   [Storybook](https://ebay.github.io/ebayui-core/?path=/story/navigation-disclosure-ebay-pagination)
-   [Storybook Docs](https://ebay.github.io/ebayui-core/?path=/docs/navigation-disclosure-ebay-pagination)
-   [Code Examples](https://github.com/eBay/ebayui-core/tree/master/src/components/ebay-pagination/examples)
`;const fe=9,ve=5,xe={handlePageNumberClick(t,e,r){this.emit("select",{el:r,originalEvent:e,value:r.innerText,index:t})},handleMenuPageNumber({originalEvent:t,el:e}){const r=parseInt(e.getAttribute("data-page-number"),10);this.emit("select",{el:e,originalEvent:t,value:e.innerText,index:r}),setTimeout(()=>this.getEl("pageItem[]",r).focus(),0)},handleNextPageClick(t,e){e.hasAttribute("aria-disabled")||this.emit("next",{el:e,originalEvent:t})},handlePreviousPageClick(t,e){e.hasAttribute("aria-disabled")||this.emit("previous",{el:e,originalEvent:t})},onCreate(){this.state={maxItems:0}},onMount(){this._calculateMaxItems(),this.subscribeTo(he).on("resize",this._calculateMaxItems.bind(this))},getItemTag(t){return t.variant?t.variant==="link"?"a":"button":t.href?"a":"button"},_getVisibleRange(t){const{state:e,input:r}=this,{maxItems:a}=e,{variant:o}=r,v=o==="show-last"||o==="overflow",i=o==="overflow",u=o==="overflow",n=t.length-1,c=v?n:-1,p=i?1:-1;let d=!1,w=!1;if(!a)return{start:0,end:n,hideDots:!0,dotsIndex:c,leadingDotsIndex:p,hasOverflow:u};const m=t.findIndex(g=>g.current),x=Math.floor(a/2);let l=m-x,s=m+x;return l<=0?(s=a-1,l=0):s>=n?(s=n,l=n-(a-1)):a%2===0&&l++,v&&(m+x>=n||s>=n?d=!0:m<=s-2?s-=2:(l+=1,s-=1)),i&&(m-x<=0?w=!0:m>=l-1?l+=2:(s-=1,l-=1)),{start:l,end:s,hideDots:d,dotsIndex:c,hasOverflow:u,leadingDotsIndex:p,hideLeadingDots:w}},_calculateMaxItems(){const{input:t,state:e}=this;if(!(t.items||[]).some(i=>!i.type))return;const a=this.getEl("items"),o=this.getEl("root"),v=this._itemWidth||(this._itemWidth=a.firstElementChild.offsetWidth);e.maxItems=Math.max(ve,Math.min(fe,Math.floor(ge(o)/v)-2))}};function W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,a)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W(Object(r),!0).forEach(function(a){_e(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function _e(t,e,r){return e=we(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function we(t){var e=Pe(t,"string");return typeof e=="symbol"?e:String(e)}function Pe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const D="L1rRwgnS",S=ee(D),ne=S;var j={disabled:!0},Ie=["items"],E=["current","disabled"];function L(t,e){return(t<e.start||t>e.end)&&e.dotsIndex!==t&&e.leadingDotsIndex-1!==t}te.r(D,()=>S);const ie=xe;S._=re(function(t,e,r,a,o,v){var i=t.items||[],u=i.length-1,n=i[0]&&i[0].type==="previous"&&i[0]||j,c=i[u]&&i[u].type==="next"&&i[u]||j,p=i.slice(n===j?0:1,c===j?void 0:u),d=a._getVisibleRange(p);e.be("nav",ue(I(t,Ie),{role:"navigation",class:M(["pagination",t.class]),"aria-labelledby":r.elId("heading")}),"@root",a,null,4),e.be("span",{"aria-live":"polite",role:"status"},"0",a,null,0),e.be("h2",{id:r.elId("heading"),class:"clipped"},"1",a,null,1),e.t(t.a11yCurrentText||"Results Pagination - Page 1",a),e.ee(),e.ee(),k(e,a.getItemTag(n),()=>h(h({},I(n,E)),{},{class:["pagination__previous",n.href?"icon-link":"icon-btn",n.class],"aria-disabled":n.disabled&&"true","aria-label":t.a11yPreviousText||"Previous page",style:[n.style,{minWidth:40}]}),l=>{O(me,{},l,r,"3")},null,null,r,"2",[["click","handlePreviousPageClick",!1]]),e.be("ol",{class:"pagination__items"},"@items",a,null,1);{let l=0;for(const s of p||[]){let g=l++;const b="[".concat(g,"]");if(d.dotsIndex===g||d.leadingDotsIndex===g){var w=d.hideDots,m=!1;if(d.leadingDotsIndex===g&&(m=!0,w=d.hideLeadingDots),e.be("li",{hidden:w},"4"+b,a,null,0),d.hasOverflow){e.be("span",{class:M(["pagination__item",s.class]),role:"separator"},"5"+b,a,null,0);{const B=[];let le=0;for(const N of p||[]){let P=le++;const ce="[".concat(P+b,"]");var x=m?P<d.start:P>d.end;L(P,d)&&x&&B.push(h(h({},I(N,E)),{},{type:a.getItemTag(N),dataPageNumber:P,renderBody:de=>{k(de,N.renderBody,null,null,null,null,r,"7"+ce)},[Symbol.iterator]:C}))}O(be,{variant:"icon",transparent:!0,icon:A,collapseOnSelect:!0,items:B},e,r,"6"+b,[["select","handleMenuPageNumber",!1]])}e.ee()}else e.be("span",{class:M(["pagination__item",s.class]),role:"separator"},"8"+b,a,null,0),O(A,{},e,r,"9"+b),e.ee();e.ee()}e.be("li",{hidden:L(g,d)},"10"+b,a,null,0),k(e,a.getItemTag(s),()=>h(h({},I(s,E)),{},{class:["pagination__item",s.class],"aria-current":s.current&&"page"}),B=>{k(B,s.renderBody,null,null,null,null,r,"11"+b)},null,null,r,"@pageItem[]",[["click","handlePageNumberClick",!1,[g]]]),e.ee()}}e.ee(),k(e,a.getItemTag(c),()=>h(h({},I(c,E)),{},{class:["pagination__next",c.href?"icon-link":"icon-btn",c.class],"aria-disabled":c.disabled&&"true","aria-label":t.a11yNextText||"Next page",style:[c.style,{minWidth:40}]}),l=>{O(pe,{},l,r,"13")},null,null,r,"12",[["click","handleNextPageClick",!1]]),e.ee()},{t:D},ie);S.Component=ae(ie,S._);function V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,a)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V(Object(r),!0).forEach(function(a){ke(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function ke(t,e,r){return e=Oe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oe(t){var e=Se(t,"string");return typeof e=="symbol"?e:String(e)}function Se(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const R="m7iwF6L0",T=ee(R),$=15;te.r(R,()=>T);const se={onCreate(){this.state={current:0}},handlePrev(t){this.state.current=Math.max(this.state.current-1,0),this.emit("previous",t)},handleNext(t){this.state.current=Math.min(this.state.current+1,$),this.emit("next",t)},handleSelect(t,e){let{index:r}=t;this.state.current=r,this.emit("select",e)}};T._=re(function(t,e,r,a,o,v){const i=[];i.push({type:"previous",disabled:o.current===0,[Symbol.iterator]:C});for(let u=($-0)/1,n=0;n<=u;n++){const c=0+n*1;i.push({current:c===o.current,renderBody:p=>{p.t(c,a)},[Symbol.iterator]:C})}i.push({type:"next",disabled:o.current===$,[Symbol.iterator]:C}),O(ne,Z(Z({a11yCurrentText:"Results Pagination - Page ".concat(o.current)},t),{},{items:i}),e,r,"0",[["next","handleNext",!1],["previous","handlePrev",!1],["select","handleSelect",!1]])},{t:R},se);T.Component=ae(se,T._);const Te=`static const SIZE = 15;

class {
    onCreate() {
        this.state = { current: 0 };
    }
    handlePrev(e) {
        this.state.current = Math.max(this.state.current - 1, 0);
        this.emit("previous", e);
    }
    handleNext(e) {
        this.state.current = Math.min(this.state.current + 1, SIZE);
        this.emit("next", e);
    }
    handleSelect({ index }, e) {
        this.state.current = index;
        this.emit("select", e);
    }
}

<ebay-pagination
    on-next("handleNext")
    on-previous("handlePrev")
    on-select("handleSelect")
    a11y-current-text=\`Results Pagination - Page \${state.current}\`
    ...input
    >
    <@item type="previous" disabled=(state.current === 0)/>
    <for|i| from=0 to=SIZE>
        <@item current=(i === state.current)>\${i}</@item>
    </for>
    <@item type="next" disabled=(state.current === SIZE)/>
</ebay-pagination>
`,oe=t=>({input:Q(t)}),lt={title:"navigation & disclosure/ebay-pagination",component:ne,parameters:{docs:{description:{component:ye}}},argTypes:{a11yPreviousText:{control:{type:"text"},description:"a11y text for previous arrow button"},a11yNextText:{control:{type:"text"},description:"a11y text for next arrow button"},a11yCurrentText:{control:{type:"text"},description:"Description for the current page (e.g. Results of Page 1)"},variant:{control:{type:"select"},table:{defaultValue:{summary:"show-range"}},options:["show-last","show-range","overflow"],description:"Either `show-last`, or `show-range`. If `show-last` then will show the last page always and will put `…` between the last visible range and the last page. `…` and the last page will take up two items in the range. `…` will be hidden when the range to the last item is fully visible."},disabled:{name:"disabled",table:{category:"@item attribute tags"},description:"Previous/next button is disabled or not"},href:{name:"href",table:{category:"@item attribute tags"},description:"for link that looks like a menu-item; omitting the href will switch to a button"},item:{name:"@item",table:{category:"@attribute tags"}},"@item variant":{name:"variant",table:{category:"@item attribute tags"},description:'"button" or "link". Will force an item to be a link if href is omitted. Defaults to button. If not specified, tag type will still be controlled by `href`'},current:{name:"current",table:{category:"@item attribute tags"},description:"the current page"},type:{name:"type",table:{category:"@item attribute tags"},description:`"previous", "next" or "page"(default). To specify if the information entered is for the previous or next arrrow button or a page. If the type='previous  | next' isn't provided the previous/next arrow buttons will be taken as'disabled'`},onPrevious:{action:"on-previous",description:"Triggered on previous arrow button",table:{category:"Events",defaultValue:{summary:"{ originalEvent, el }"}}},onNext:{action:"on-next",description:"Triggered on next arrow button",table:{category:"Events",defaultValue:{summary:"{ originalEvent, el }"}}},onSelect:{action:"on-select",description:"Triggered on page selected clicked",table:{category:"Events",defaultValue:{summary:"{ originalEvent, el, value, index }"}}}}},y=oe.bind({});y.args={a11yPreviousText:"previous",a11yNextText:"next",a11yCurrentText:"Current page",items:[{renderBody:"",type:"previous",href:"#",disabled:!0},{renderBody:"1",href:"#",current:!0},{renderBody:"2",href:"#"},{renderBody:"3",href:"#"},{renderBody:"4",href:"#"},{renderBody:"5",href:"#"},{renderBody:"6",href:"#"},{renderBody:"7",href:"#"},{renderBody:"8",href:"#"},{renderBody:"9",href:"#"},{renderBody:"",type:"next",href:"#",disabled:!0}]};y.parameters={docs:{source:{code:Y("ebay-pagination",y.args)}}};const f=oe.bind({});f.args={a11yPreviousText:"previous",a11yNextText:"next",a11yCurrentText:"Current page",items:[{renderBody:"",type:"previous",disabled:!0},{renderBody:"1",current:!0},{renderBody:"2"},{renderBody:"3"},{renderBody:"4"},{renderBody:"5"},{renderBody:"6"},{renderBody:"7"},{renderBody:"8"},{renderBody:"9"},{renderBody:"",type:"next",disabled:!0}]};f.parameters={docs:{source:{code:Y("ebay-pagination",f.args)}}};const _=t=>({component:T,input:Q(t)});_.args={};_.parameters={docs:{source:{code:Te}}};var K,z,F;y.parameters={...y.parameters,docs:{...(K=y.parameters)==null?void 0:K.docs,source:{originalSource:`args => ({
  input: addRenderBodies(args)
})`,...(F=(z=y.parameters)==null?void 0:z.docs)==null?void 0:F.source}}};var G,H,U;f.parameters={...f.parameters,docs:{...(G=f.parameters)==null?void 0:G.docs,source:{originalSource:`args => ({
  input: addRenderBodies(args)
})`,...(U=(H=f.parameters)==null?void 0:H.docs)==null?void 0:U.source}}};var X,q,J;_.parameters={..._.parameters,docs:{...(X=_.parameters)==null?void 0:X.docs,source:{originalSource:`args => ({
  component: interactiveTemplate,
  input: addRenderBodies(args)
})`,...(J=(q=_.parameters)==null?void 0:q.docs)==null?void 0:J.source}}};const ct=["Links","Buttons","Interactive"];export{f as Buttons,_ as Interactive,y as Links,ct as __namedExportsOrder,lt as default};
//# sourceMappingURL=pagination.stories-1e1492f8.js.map

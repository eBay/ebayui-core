{"version":3,"file":"config-10b3fe54.js","sources":["../../node_modules/@storybook/marko/dist/chunk-4EF36JOX.mjs","../../node_modules/@storybook/marko/dist/chunk-QQE4A3VP.mjs","../../node_modules/@storybook/marko/dist/chunk-LSC4FL7X.mjs","../../node_modules/@storybook/marko/dist/config.mjs"],"sourcesContent":["// packages/renderers/marko/src/docs/config.ts\nimport { SourceType, enhanceArgTypes } from \"@storybook/docs-tools\";\nvar decorators = [];\nvar parameters = {\n  docs: {\n    story: { inline: true },\n    source: {\n      type: SourceType.DYNAMIC,\n      language: \"marko\"\n    }\n  }\n};\nvar argTypesEnhancers = [enhanceArgTypes];\n\nexport {\n  decorators,\n  parameters,\n  argTypesEnhancers\n};\n","// packages/renderers/marko/src/decorators.ts\nimport { sanitizeStoryContextUpdate } from \"@storybook/preview-api\";\nvar decorateStory = (storyFn, decorators) => decorators.reduce(\n  (decorated, decorator) => (context) => {\n    let story;\n    const decoratedStory = decorator(\n      (update) => {\n        story = decorated({\n          ...context,\n          ...sanitizeStoryContextUpdate(update)\n        });\n        return story;\n      },\n      context\n    );\n    story || (story = decorated(context));\n    return decoratedStory === story ? story : {\n      component: decoratedStory.component || context.component,\n      input: {\n        ...decoratedStory.input,\n        renderBody(out) {\n          var _a;\n          (_a = story == null ? void 0 : story.component) == null ? void 0 : _a.render(story.input || {}, out);\n        }\n      }\n    };\n  },\n  (context) => storyFn(context)\n);\n\nexport {\n  decorateStory\n};\n","// packages/renderers/marko/src/render.ts\nvar instanceByCanvasElement = /* @__PURE__ */ new WeakMap();\nvar subscriptionsByInstance = /* @__PURE__ */ new WeakMap();\nfunction renderToCanvas(ctx, canvasElement) {\n  const config = ctx.storyFn();\n  const template = (config == null ? void 0 : config.component) || ctx.storyContext.component;\n  assertHasTemplate(template, ctx);\n  const input = {};\n  const subscriptions = {};\n  for (const key in config.input) {\n    const val = config.input[key];\n    const eventName = typeof val === \"function\" && toEventName(key);\n    if (eventName) {\n      subscriptions[eventName] = val;\n    } else {\n      input[key] = val;\n    }\n  }\n  let instance = instanceByCanvasElement.get(canvasElement);\n  if (instance && (ctx.forceRemount || !instance.state)) {\n    instance = void 0;\n    cleanup(canvasElement);\n  }\n  if (instance) {\n    const activeSubscriptions = subscriptionsByInstance.get(instance);\n    instance.input = input;\n    instance.update();\n    for (const eventName in activeSubscriptions) {\n      const fn = activeSubscriptions[eventName];\n      if (subscriptions[eventName] !== fn) {\n        delete activeSubscriptions[eventName];\n        instance.removeListener(eventName, fn);\n      }\n    }\n    for (const eventName in subscriptions) {\n      const fn = subscriptions[eventName];\n      if (activeSubscriptions[eventName] !== fn) {\n        activeSubscriptions[eventName] = fn;\n        instance.on(eventName, fn);\n      }\n    }\n  } else {\n    instance = template.renderSync(input).replaceChildrenOf(canvasElement).getComponent();\n    instanceByCanvasElement.set(canvasElement, instance);\n    for (const eventName in subscriptions) {\n      instance.on(eventName, subscriptions[eventName]);\n    }\n  }\n  subscriptionsByInstance.set(instance, subscriptions);\n  ctx.showMain();\n  return () => cleanup(canvasElement);\n}\nvar render = (args, ctx) => {\n  const { component } = ctx;\n  assertHasTemplate(component, ctx);\n  return { component, input: args };\n};\nfunction assertHasTemplate(template, ctx) {\n  if (!template || !template.renderSync) {\n    throw new Error(\n      `Expected a component to be specified in the story: \"${ctx.title} > ${ctx.name}\".`\n    );\n  }\n}\nfunction toEventName(method) {\n  const match = /^on(-)?(.*)$/.exec(method);\n  if (match) {\n    const [, isDash, eventName] = match;\n    return isDash ? eventName : eventName.charAt(0).toLowerCase() + eventName.slice(1);\n  }\n  return false;\n}\nfunction cleanup(canvasElement) {\n  const component = instanceByCanvasElement.get(canvasElement);\n  if (!component)\n    return;\n  component.destroy();\n  canvasElement.innerHTML = \"\";\n  instanceByCanvasElement.delete(canvasElement);\n  subscriptionsByInstance.delete(component);\n}\n\nexport {\n  renderToCanvas,\n  render\n};\n","import {\n  argTypesEnhancers,\n  decorators,\n  parameters\n} from \"./chunk-4EF36JOX.mjs\";\nimport {\n  decorateStory\n} from \"./chunk-QQE4A3VP.mjs\";\nimport {\n  render,\n  renderToCanvas\n} from \"./chunk-LSC4FL7X.mjs\";\n\n// packages/renderers/marko/src/config.ts\nvar parameters2 = { renderer: \"marko\", ...parameters };\nexport {\n  argTypesEnhancers,\n  decorateStory,\n  decorators,\n  parameters2 as parameters,\n  render,\n  renderToCanvas\n};\n"],"names":["decorators","parameters","SourceType","argTypesEnhancers","enhanceArgTypes","sanitizeStoryContextUpdate","decorateStory","storyFn","decorated","decorator","context","story","decoratedStory","update","out","_a","instanceByCanvasElement","subscriptionsByInstance","renderToCanvas","ctx","canvasElement","config","template","assertHasTemplate","input","subscriptions","key","val","eventName","toEventName","instance","cleanup","activeSubscriptions","fn","render","args","component","method","match","isDash","parameters2"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}
{"version":3,"file":"tabs.stories-1f4f1610.js","sources":["../../src/components/ebay-tabs/README.md","../../src/components/ebay-tabs/component.js","../../src/components/ebay-tabs/index.marko"],"sourcesContent":["export default \"<h1 style='display: flex; justify-content: space-between; align-items: center;'>\\n    <span>\\n        ebay-tabs\\n    </span>\\n    <span style='font-weight: normal; font-size: medium; margin-bottom: -15px;'>\\n        DS v2.1.0\\n    </span>\\n</h1>\\n\\n## Examples and Documentation\\n\\n-   [Storybook](https://ebay.github.io/ebayui-core/?path=/story/navigation-disclosure-ebay-tabs)\\n-   [Storybook Docs](https://ebay.github.io/ebayui-core/?path=/docs/navigation-disclosure-ebay-tabs)\\n-   [Code Examples](https://github.com/eBay/ebayui-core/tree/master/src/components/ebay-tabs/examples)\\n\"","import { createLinear } from \"makeup-roving-tabindex\";\nimport * as eventUtils from \"../../common/event-utils\";\n\nexport default {\n    /**\n     * Handle a11y for heading\n     * https://ebay.gitbooks.io/mindpatterns/content/disclosure/tabs.html\n     * @param {KeyboardEvent} event\n     * @param {HTMLDivElement} el\n     */\n    handleHeadingKeydown(dataIndex, event) {\n        eventUtils.handleActionKeydown(event, () => {\n            event.preventDefault();\n            this._setIndex(dataIndex);\n        });\n\n        eventUtils.handleArrowsKeydown(event, () => {\n            event.preventDefault();\n\n            const { input, state } = this;\n            const len = input.tabs.length;\n            const keyCode = event.charCode || event.keyCode;\n            const direction = keyCode === 37 || keyCode === 38 ? -1 : 1;\n            const selectedIndex = (state.selectedIndex + len + direction) % len;\n            this.getEl(`tabs-${selectedIndex}`).focus();\n\n            if (!input.activation || input.activation === \"auto\") {\n                this._setIndex(selectedIndex);\n            }\n        });\n    },\n\n    handleHeadingClick(selectedIndex) {\n        this._setIndex(selectedIndex);\n    },\n\n    onCreate() {\n        this.state = { selectedIndex: 0 };\n    },\n\n    onInput(input) {\n        const { state } = this;\n        input.tabs = input.tabs || [];\n        input.panels = input.panels || [];\n\n        if (!isNaN(input.selectedIndex)) {\n            state.selectedIndex =\n                parseInt(input.selectedIndex, 10) % (input.tabs.length || 1);\n        }\n    },\n\n    onMount() {\n        this._setupMakeup();\n    },\n\n    onUpdate() {\n        this._setupMakeup();\n    },\n\n    onRender() {\n        if (typeof window !== \"undefined\") {\n            this._cleanupMakeup();\n        }\n    },\n\n    onDestroy() {\n        this._cleanupMakeup();\n    },\n\n    _setIndex(selectedIndex) {\n        const { state } = this;\n\n        if (selectedIndex !== state.selectedIndex) {\n            state.selectedIndex = selectedIndex;\n            this.emit(\"select\", { selectedIndex });\n        }\n    },\n\n    _setupMakeup() {\n        const { input, state } = this;\n\n        if (!input.fake) {\n            this._linearRovingTabindex = createLinear(\n                this.getEl(\"tabs\"),\n                \".tabs__item\",\n                {\n                    index: state.selectedIndex,\n                    wrap: true,\n                }\n            );\n        }\n    },\n\n    _cleanupMakeup() {\n        if (this._rovingTabIndex) {\n            this._rovingTabIndex.destroy();\n            this._rovingTabIndex = undefined;\n        }\n    },\n};\n","import { processHtmlAttributes } from '../../common/html-attributes';\nstatic var ignoredAttributes = ['selectedIndex', 'activation', 'tabs', 'panels'];\nstatic var itemAnchorIgnoredAttributes = ['href'];\n\n<div ...processHtmlAttributes(input, ignoredAttributes) class=['tabs', input.class]>\n    <div.tabs__items role='tablist' key='tabs'>\n        <for|tab, i| of=input.tabs || []>\n            $ var isSelected = state.selectedIndex === i;\n            <div\n                ...processHtmlAttributes(tab, itemAnchorIgnoredAttributes)\n                key=`tabs-${i}`\n                id:scoped=`tabs-${i}`\n                aria-controls:scoped=`tabpanel-${i}`\n                role='tab'\n                aria-selected=isSelected && 'true'\n                class=[tab.class, 'tabs__item']\n                onClick('handleHeadingClick', i)\n                onKeydown('handleHeadingKeydown', i)\n            >\n                <span><${tab.renderBody}/></span>\n            </div>\n        </for>\n    </div>\n    <div.tabs__content>\n        <for|panel, i| of=input.panels || []>\n            $ var isSelected = state.selectedIndex === i;\n            <div\n                ...processHtmlAttributes(panel)\n                id:scoped=`tabpanel-${i}`\n                aria-labelledby:scoped=`tabs-${i}`\n                role='tabpanel'\n                class=[panel.class, 'tabs__panel']\n                hidden=!isSelected\n            >\n                <div.tabs__cell><div><${panel.renderBody}/></div></div>\n            </div>\n        </for>\n    </div>\n</div>\n"],"names":["Readme","_marko_component","dataIndex","event","eventUtils.handleActionKeydown","eventUtils.handleArrowsKeydown","input","state","len","keyCode","direction","selectedIndex","createLinear","ignoredAttributes","itemAnchorIgnoredAttributes","_marko_registerComponent","_marko_componentType","_marko_template","_marko_component2","_","_marko_renderer","out","_componentDef","_component","$global","be","_marko_merge_attrs","processHtmlAttributes","_marko_class_merge","class","_i","tab","tabs","i","isSelected","_keyValue","concat","_keyScope","elId","d","_marko_dynamic_tag","renderBody","ee","_i2","panel","panels","_keyScope2","t","Component","_marko_defineComponent"],"mappings":"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"}
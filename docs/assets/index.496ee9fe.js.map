{"version":3,"file":"index.496ee9fe.js","sources":["../../src/components/ebay-textbox/component-browser.js","../../src/components/ebay-textbox/index.marko"],"sourcesContent":["import FloatingLabel from \"makeup-floating-label\";\n\nexport default {\n    handleFloatingLabelInit: forwardEvent(\"floating-label-init\"),\n    handleKeydown: forwardEvent(\"keydown\"),\n    handleKeypress: forwardEvent(\"keypress\"),\n    handleKeyup: forwardEvent(\"keyup\"),\n    handleChange: forwardEvent(\"change\"),\n    handleInput: forwardEvent(\"input-change\"),\n    handleFocus: forwardEvent(\"focus\"),\n    handleBlur: forwardEvent(\"blur\"),\n    handleButtonClick: forwardEvent(\"button-click\"),\n    handleInvalid: forwardEvent(\"invalid\"),\n\n    onMount() {\n        this._setupMakeup();\n    },\n\n    onUpdate() {\n        this._setupMakeup();\n    },\n\n    focus() {\n        this.getEl(\"input\").focus();\n    },\n\n    _setupMakeup() {\n        // TODO: makeup-floating-label should be updated so that we can remove the event listeners.\n        // It probably makes more sense to just move this functionality into Marko though.\n        if (this.input.floatingLabel) {\n            if (this._floatingLabel) {\n                this._floatingLabel.refresh();\n                this.handleFloatingLabelInit();\n            } else if (document.readyState === \"complete\") {\n                if (this.el) {\n                    this._floatingLabel = new FloatingLabel(this.el);\n                    this.handleFloatingLabelInit();\n                }\n            } else {\n                this.subscribeTo(window).once(\n                    \"load\",\n                    this._setupMakeup.bind(this)\n                );\n            }\n        }\n    },\n};\n\nfunction forwardEvent(eventName) {\n    return function (originalEvent, el) {\n        this.emit(eventName, {\n            originalEvent,\n            value: (el || this.el.querySelector(\"input, textarea\")).value,\n        });\n    };\n}\n","import { processHtmlAttributes } from \"../../common/html-attributes\"\n\nstatic function toJSON() {\n    return {\n        floatingLabel: this.floatingLabel\n    };\n}\n\nstatic var ignoredAttributes = [\n    \"class\",\n    \"style\",\n    \"invalid\",\n    \"fluid\",\n    \"multiline\",\n    \"floatingLabel\",\n    \"prefixIcon\",\n    \"postfixIcon\",\n    \"inputSize\",\n    \"opaqueLabel\",\n    \"toJSON\"\n];\n\n$ input.toJSON = toJSON;\n$ var isPostfix = !!input.postfixIcon;\n$ var hasIcon = input.prefixIcon || isPostfix;\n$ var isLarge = input.inputSize === \"large\";\n$ var displayIcon = Boolean(!input.multiline && hasIcon);\n$ var id = input.id || component.getElId(\"textbox\");\n$ var defaultTag = input.fluid ? \"div\" : \"span\";\n<${input.floatingLabel && defaultTag} class=[\"floating-label\", isLarge && \"floating-label--large\", input.opaqueLabel && \"floating-label--opaque\"]>\n    <if(input.floatingLabel)>\n        <label\n            for=id\n            class=[\n                \"floating-label__label\",\n                input.disabled && \"floating-label__label--disabled\"\n            ]>\n            ${input.floatingLabel}\n        </label>\n    </if>\n    <${defaultTag}\n        style=input.style\n        class=[\n            \"textbox\",\n            input.class,\n            displayIcon && isPostfix && \"textbox--icon-end\"\n        ]>\n        <if(displayIcon && input.prefixIcon)>\n            <${input.prefixIcon}/>\n        </if>\n        <${input.multiline ? \"textarea\" : \"input\"}\n            ...processHtmlAttributes(input, ignoredAttributes)\n            id=id\n            key=\"input\"\n            class=[\n                \"textbox__control\",\n                input.fluid && \"textbox__control--fluid\",\n                isLarge && \"textbox__control--large\"\n            ]\n            type=(!input.multiline && (input.type || \"text\"))\n            value=(!input.multiline && input.value)\n            aria-invalid=(input.invalid && \"true\")\n            onKeydown(\"handleKeydown\")\n            onKeypress(\"handleKeypress\")\n            onKeyup(\"handleKeyup\")\n            onChange(\"handleChange\")\n            onInput(\"handleInput\")\n            onFocus(\"handleFocus\")\n            onBlur(\"handleBlur\")\n            onInvalid(\"handleInvalid\")>\n            <if(input.multiline && input.value)>${input.value}</if>\n        </>\n        <if(displayIcon && input.postfixIcon)>\n            <${input.buttonAriaLabel && \"button\"}\n                class=\"icon-btn icon-btn--transparent\"\n                aria-label=input.buttonAriaLabel\n                type=(input.buttonAriaLabel && \"button\")\n                on-click(\"handleButtonClick\")>\n                <${input.postfixIcon}/>\n            </>\n        </if>\n    </>\n</>\n"],"names":["_marko_split_component","forwardEvent","FloatingLabel","eventName","originalEvent","el","toJSON","floatingLabel","ignoredAttributes","_marko_registerComponent","_marko_componentType","_marko_component","_marko_template","_","_marko_renderer","input","out","_componentDef","_component","state","$global","isPostfix","postfixIcon","hasIcon","prefixIcon","isLarge","inputSize","displayIcon","Boolean","multiline","id","getElId","defaultTag","fluid","_tagName3","be","_marko_class_merge","opaqueLabel","bf","disabled","t","ee","_marko_style_merge","style","class","_marko_dynamic_tag","_tagName","_marko_merge_attrs","processHtmlAttributes","type","value","invalid","d","_tagName2","buttonAriaLabel","ef","s","Component","_marko_defineComponent"],"mappings":"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"}
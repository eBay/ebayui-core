import{r as w,b as y,f as E,c as S,t as v}from"./registry-BVpmXZbM.js";import{i as C,a as M}from"./attr-tag-DphMQldM.js";import{_ as I}from"./dynamic-tag-CptWGHl0.js";import{_ as z}from"./index-Gz-AqQM7.js";import{_ as B}from"./render-tag-mtfFSHEK.js";class P extends Marko.Component{setExpandedState(t){t!==this.state.expanded&&(this.state.expanded=t,t?this.emit("expanded"):this.emit("collapsed"))}handleExpand(){this.setExpandedState(!this.state.expanded)}handleScroll(){this.setExpandedState(!0)}handleTouchStart(t){const e=t.changedTouches;this.touches=[];for(let a=0;a<e.length;a++){const{identifier:i,pageY:o}=e[a];this.touches.push({identifier:i,pageY:o})}}handleTouchMove(t){if(this.touches.length)for(let e=0;e<t.changedTouches.length;e++){const a=t.changedTouches[e],i=this.touches.findIndex(d=>d.identifier===a.identifier),o=a.pageY-this.touches[i].pageY;o>30?(this.state.expanded?this.setExpandedState(!1):this.getComponent("dialog").state.open=!1,this.handleTouchEnd(t)):o<-30&&(this.setExpandedState(!0),this.handleTouchEnd(t))}}handleTouchEnd(t){for(let e=0;e<t.changedTouches.length;e++){const a=t.changedTouches[e],i=this.touches.findIndex(o=>o.identifier===a.identifier);i>-1&&this.touches.splice(i,1)}}onCreate(){this.state={expanded:!1}}onMount(){this.touches=[]}onInput(t){this.state={expanded:t.expanded||!1}}}const c="GQOchJVg",s=v(c),L=["wide","narrow","fullscreen","large"];w.r(c,()=>s);const u=P;s._=y(function(r,t,e,a,i,o){const{class:d,variant:g,buttonPosition:p="right",a11yMaximizeText:m="Maximize Lightbox Dialog",a11yMinimizeText:x="Minimize Lightbox Dialog",bannerImgSrc:l,bannerImgPosition:f,size:h,renderBody:_,...b}=r;var k=g==="_mini",T=i.expanded?x:m;B(z,C(()=>(M("top",{renderBody:n=>{n.e("button",{"aria-label":T,type:"button",class:"lightbox-dialog__handle"},"0",a,0,0,{onclick:e.d("click","handleExpand",!1),ontouchstart:e.d("touchstart","handleTouchStart",!1),ontouchmove:e.d("touchmove","handleTouchMove",!1),ontouchend:e.d("touchend","handleTouchEnd",!1),ontouchcancel:e.d("touchcancel","handleTouchEnd",!1)}),l&&n.e("div",{class:"lightbox-dialog__image",style:E({backgroundImage:`url(${l})`,backgroundPosition:f})},"1",a,0,1)}}),n=>{I(n,_,null,null,null,null,e,"2")}),{...b,classPrefix:"lightbox-dialog",buttonPosition:p,class:[d,"lightbox-dialog--mask-fade",l&&"lightbox-dialog--expressive",h&&L.includes(h)&&`lightbox-dialog--${h}`],windowClass:["lightbox-dialog__window--animate",k&&"lightbox-dialog__window--mini",i.expanded&&"lightbox-dialog__window--expanded"],top:void 0}),t,e,"@dialog",[["open","emit",!1,["open"]],["close","emit",!1,["close"]],["prevButtonClick","emit",!1,["prevButtonClick"]]])},{t:c},u);s.Component=S(u,s._);export{s as _};

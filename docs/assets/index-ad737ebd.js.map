{"version":3,"file":"index-ad737ebd.js","sources":["../../src/common/event-utils/index.js"],"sourcesContent":["/**\n * Generic keydown handler used by more specific cases\n * @param {Array} keyCodes: List of acceptable keyCodes\n * @param {KeyboardEvent} e\n * @param {Function} callback\n */\nfunction handleKeydown(keyCodes, e, callback) {\n    const keyCode = e.charCode || e.keyCode;\n    if (keyCodes.indexOf(keyCode) !== -1) {\n        callback();\n    }\n}\n\n// inverse of found keys\nfunction handleNotKeydown(keyCodes, e, callback) {\n    const keyCode = e.charCode || e.keyCode;\n    if (keyCodes.indexOf(keyCode) === -1) {\n        callback();\n    }\n}\n\n// enter key\nfunction handleEnterKeydown(e, callback) {\n    handleKeydown([13], e, callback);\n}\n\n// space and enter keys\nfunction handleActionKeydown(e, callback) {\n    handleKeydown([32, 13], e, callback);\n}\n\nfunction handleEscapeKeydown(e, callback) {\n    handleKeydown([27], e, callback);\n}\n\nfunction handleUpDownArrowsKeydown(e, callback) {\n    handleKeydown([38, 40], e, callback);\n}\n\nfunction handleLeftRightArrowsKeydown(e, callback) {\n    handleKeydown([37, 39], e, callback);\n}\n\nfunction handleArrowsKeydown(e, callback) {\n    handleKeydown([37, 38, 39, 40], e, callback);\n}\n\n// only fire for character input, not modifier/meta keys (enter, escape, backspace, tab, etc.)\nfunction handleTextInput(e, callback) {\n    const keys = [\n        9, // tab\n        13, // enter key\n        16, // shift\n        17, // control\n        18, // alt\n        20, // caps lock\n        27, // escape\n        37, // left arrow\n        38, // up arrow\n        39, // right arrow\n        40, // down arrow\n        91, // \"meta\" key (Mac \"command\" key)\n    ];\n    handleNotKeydown(keys, e, callback);\n}\n\nfunction preventDefaultIfHijax(e, hijax) {\n    if (hijax) {\n        e.preventDefault();\n    }\n}\n\nconst handlers = [];\nfunction addEventListener(_, handler) {\n    if (handlers.length === 0) {\n        window.addEventListener(\"resize\", handleResize);\n    }\n    handlers.push(handler);\n}\nfunction removeEventListener(_, handler) {\n    if (handlers.length === 1) {\n        window.removeEventListener(\"resize\", handleResize);\n    }\n    handlers.splice(handlers.indexOf(handler), 1);\n}\nfunction handleResize(ev) {\n    window.removeEventListener(\"resize\", handleResize);\n    (window.requestAnimationFrame || window.setTimeout)(() => {\n        if (handlers.length) {\n            handlers.forEach((handler) => handler(ev));\n            window.addEventListener(\"resize\", handleResize);\n        }\n    }, 16);\n}\n\nconst resizeUtil = {\n    addEventListener,\n    removeEventListener,\n};\n\nfunction debounce(func, timeout = 100) {\n    let timer;\n    return (...args) => {\n        clearTimeout(timer);\n        timer = setTimeout(() => {\n            func.apply(this, args);\n        }, timeout);\n    };\n}\n\nexport {\n    debounce,\n    handleEnterKeydown,\n    handleActionKeydown,\n    handleEscapeKeydown,\n    handleUpDownArrowsKeydown,\n    handleLeftRightArrowsKeydown,\n    handleArrowsKeydown,\n    handleTextInput,\n    preventDefaultIfHijax,\n    resizeUtil,\n};\n"],"names":["handleKeydown","keyCodes","callback","keyCode","handleNotKeydown","handleEnterKeydown","e","handleActionKeydown","handleEscapeKeydown","handleUpDownArrowsKeydown","handleArrowsKeydown","handleTextInput","handlers","addEventListener","_","handler","handleResize","removeEventListener","ev","resizeUtil","debounce","func","timeout","timer","args"],"mappings":"AAMA,SAASA,EAAcC,EAAU,EAAGC,EAAU,CAC1C,MAAMC,EAAU,EAAE,UAAY,EAAE,QAC5BF,EAAS,QAAQE,CAAO,IAAM,IAC9BD,GAER,CAGA,SAASE,EAAiBH,EAAU,EAAGC,EAAU,CAC7C,MAAMC,EAAU,EAAE,UAAY,EAAE,QAC5BF,EAAS,QAAQE,CAAO,IAAM,IAC9BD,GAER,CAGA,SAASG,EAAmBC,EAAGJ,EAAU,CACrCF,EAAc,CAAC,EAAE,EAAGM,EAAGJ,CAAQ,CACnC,CAGA,SAASK,EAAoBD,EAAGJ,EAAU,CACtCF,EAAc,CAAC,GAAI,EAAE,EAAGM,EAAGJ,CAAQ,CACvC,CAEA,SAASM,EAAoBF,EAAGJ,EAAU,CACtCF,EAAc,CAAC,EAAE,EAAGM,EAAGJ,CAAQ,CACnC,CAEA,SAASO,EAA0BH,EAAGJ,EAAU,CAC5CF,EAAc,CAAC,GAAI,EAAE,EAAGM,EAAGJ,CAAQ,CACvC,CAMA,SAASQ,EAAoBJ,EAAGJ,EAAU,CACtCF,EAAc,CAAC,GAAI,GAAI,GAAI,EAAE,EAAGM,EAAGJ,CAAQ,CAC/C,CAGA,SAASS,EAAgBL,EAAGJ,EAAU,CAelCE,EAda,CACT,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACR,EAC2BE,EAAGJ,CAAQ,CACtC,CAQA,MAAMU,EAAW,CAAA,EACjB,SAASC,EAAiBC,EAAGC,EAAS,CAC9BH,EAAS,SAAW,GACpB,OAAO,iBAAiB,SAAUI,CAAY,EAElDJ,EAAS,KAAKG,CAAO,CACzB,CACA,SAASE,EAAoBH,EAAGC,EAAS,CACjCH,EAAS,SAAW,GACpB,OAAO,oBAAoB,SAAUI,CAAY,EAErDJ,EAAS,OAAOA,EAAS,QAAQG,CAAO,EAAG,CAAC,CAChD,CACA,SAASC,EAAaE,EAAI,CACtB,OAAO,oBAAoB,SAAUF,CAAY,GAChD,OAAO,uBAAyB,OAAO,YAAY,IAAM,CAClDJ,EAAS,SACTA,EAAS,QAASG,GAAYA,EAAQG,CAAE,CAAC,EACzC,OAAO,iBAAiB,SAAUF,CAAY,EAErD,EAAE,EAAE,CACT,CAEK,MAACG,EAAa,CACf,iBAAAN,EACA,oBAAAI,CACJ,EAEA,SAASG,EAASC,EAAMC,EAAU,IAAK,CACnC,IAAIC,EACJ,MAAO,IAAIC,IAAS,CAChB,aAAaD,CAAK,EAClBA,EAAQ,WAAW,IAAM,CACrBF,EAAK,MAAM,KAAMG,CAAI,CACxB,EAAEF,CAAO,CAClB,CACA"}
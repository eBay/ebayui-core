import{t as W,r as H,b as L,d as N,p as R,e as C,f as U,c as q}from"./registry-CyswyZw5.js";/* empty css                    */import{_ as G}from"./index-D57sw9Ri.js";import{_ as J}from"./index-CUxP3sFe.js";import{_ as Q}from"./index-BEDTdAEW.js";import{_ as l}from"./render-tag-CLyPs9qZ.js";import{_ as E}from"./dynamic-tag-CXXozR29.js";import{_ as X}from"./index-DcOOfxWY.js";import{i as Y,r as Z}from"./attr-tag-DphMQldM.js";import{_ as D}from"./of-fallback-C2gEBeKK.js";import{_ as ee}from"./index-DIPz__UB.js";import{s as ae}from"./index-DbKxOVwg.js";import{a as te,h as ne}from"./index-CbT4wDAv.js";class se extends Marko.Component{handleMenuKeydown({el:a,originalEvent:e,index:n}){te(e,()=>{this.handleMenuSelect({index:n,originalEvent:e,el:a})}),ne(e,()=>{this.expander.expanded=!1,this.focus()})}focus(){this.getComponent("button").el.focus()}handleButtonEscape(){this.expander.expanded=!1}handleExpand(){this.emitComponentEvent({eventType:"expand"})}handleCollapse(){this.emitComponentEvent({eventType:"collapse"})}handleMenuSelect({el:a,originalEvent:e,index:n}){this.emitComponentEvent({eventType:"select",el:a,originalEvent:e,index:n})}handleMousedown(a,e){this.emitComponentEvent({eventType:"mousedown",el:e,originalEvent:a})}emitComponentEvent({eventType:a,el:e,originalEvent:n,index:h}){let r={el:e,originalEvent:n,index:h};r=Object.fromEntries(Object.entries(r).filter(([,i])=>i!==void 0)),this.emit(`${a}`,r)}onRender(){typeof window<"u"&&this._cleanupMakeup()}onMount(){this._setupMakeup()}onUpdate(){this._setupMakeup()}onDestroy(){this._cleanupMakeup()}_setupMakeup(){this.expander=new ae(this.el,{hostSelector:".fake-menu-button__button",contentSelector:".fake-menu-button__menu",focusManagement:"interactive",expandOnClick:!0,autoCollapse:!0,alwaysDoFocusManagement:!0})}_cleanupMakeup(){this.expander&&this.expander.destroy()}}const f="isolDjTm",o=W(f);H.r(f,()=>o);const T=se;o._=L(function(c,a,e,n,h,r){const{class:i,style:$,type:B,text:p,icon:m,a11yText:O,noToggleIcon:b,reverse:k,fixWidth:S,borderless:x,size:V,priority:j,disabled:I,variant:d,items:K=[],label:u,textAlign:A,transparent:F,...z}=c;var s=d==="overflow",P=d==="form",y=!0;x&&(s=!1);var v=null,_="expand-btn",M,w=d==="icon"||s,g=J;P?(_="btn",M="form"):w?(g=G,y=!1):(v=j||null,_="btn"),a.be("span",N(R(z),{class:C(["fake-menu-button",i]),style:U($)}),"0",n,null,4,{"onexpander-expand":e.d("expander-expand","handleExpand",!1),"onexpander-collapse":e.d("expander-collapse","handleCollapse",!1),onmousedown:e.d("mousedown","handleMousedown",!1)}),l(g,{class:["fake-menu-button__button"],size:V,borderless:x,priority:v,variant:M,transparent:w&&F,iconOnly:!p&&!m&&!s,ariaExpanded:"false",ariaLabel:O,disabled:I,noToggleIcon:b,renderBody:t=>{s?l(Q,{},t,e,"1"):(t.be("span",{class:C([`${_}__cell`,u&&"menu-button__control--custom-label",A==="center"&&"expand-btn__cell--center"])},"2",n,null,1),u?E(t,u.renderBody,null,null,null,null,e,"3"):(m&&E(t,m,null,null,null,null,e,"4"),p&&(t.be("span",null,"5",n,null,0),t.t(p,n),t.ee())),y&&!b&&l(X,{},t,e,"6"),t.ee())}},a,e,"@button",[["escape","handleButtonEscape",!1]]),l(ee,Y(()=>{for(const t of D(K))Z("items",t)},{classPrefix:"fake-menu-button",type:B,reverse:s?!k:k,fixWidth:S,tabindex:-1}),a,e,"@content",[["keydown","handleMenuKeydown",!1],["select","handleMenuSelect",!1]]),a.ee()},{t:f},T);o.Component=q(T,o._);export{o as _};

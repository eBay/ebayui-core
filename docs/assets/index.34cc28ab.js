const o={},l="nid",a=m(3);function c(t){return Math.floor(Math.random()*t)}function m(t){const e="abcdefghijklmnopqrstuvwxyz",n=e+"0123456789";let r=e[c(25)];for(let u=1;u<t;u++)r+=n[c(35)];return r}function h(t,e=l){const n=`${e}${e===""?"":"-"}${a}`;return o[n]=o[n]||0,t.id||t.setAttribute("id",`${n}-${o[n]++}`),t.id}const i={};function d(t,e,s){t.dispatchEvent(new CustomEvent("focusExit",{detail:{fromElement:e,toElement:s},bubbles:!1}))}function E(t){const e=t.target;this.el.contains(e)===!0?this.currentFocusElement=e:(window.removeEventListener("blur",this.onWindowBlurListener),document.removeEventListener("focusin",this.onDocumentFocusInListener),d(this.el,this.currentFocusElement,e),this.currentFocusElement=null)}function f(){d(this.el,this.currentFocusElement,void 0)}function v(){document.addEventListener("focusin",this.onDocumentFocusInListener),window.addEventListener("blur",this.onWindowBlurListener)}class L{constructor(e){this.el=e,this.currentFocusElement=null,this.onWidgetFocusInListener=v.bind(this),this.onDocumentFocusInListener=E.bind(this),this.onWindowBlurListener=f.bind(this),this.el.addEventListener("focusin",this.onWidgetFocusInListener)}removeEventListeners(){window.removeEventListener("blur",this.onWindowBlurListener),document.removeEventListener("focusin",this.onDocumentFocusInListener),this.el.removeEventListener("focusin",this.onWidgetFocusInListener)}}function F(t){let e=null;return h(t),i[t.id]||(e=new L(t),i[t.id]=e),e}function w(t){const e=i[t.id];e&&(e.removeEventListeners(),delete i[t.id])}export{F as a,w as r,h as s};
//# sourceMappingURL=index.34cc28ab.js.map

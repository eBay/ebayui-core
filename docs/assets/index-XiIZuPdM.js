import{t as H,r as L,b as N,f as R,p as U,g as E,h as q,d as G}from"./registry-EgEQwbXk.js";import{_ as J}from"./index-yXTMSeKK.js";import{_ as Q}from"./index-O9ypE3B3.js";/* empty css                    */import{_ as X}from"./index-96qtcLbW.js";import{_ as l}from"./render-tag-_0PNNh6Y.js";import{_ as B}from"./dynamic-tag-7vXwaVzE.js";import{_ as Y}from"./index-gv9zfHFq.js";import{_ as Z}from"./self-iterator-6yU_KG2T.js";import{C as D}from"./index-0NJnsmQY.js";import{s as ee}from"./index-l3FQEXUN.js";import{a as te,h as ae}from"./index--8xUDD5P.js";class ne extends Marko.Component{handleMenuKeydown({el:t,originalEvent:e,index:n}){te(e,()=>{this.handleMenuSelect({index:n,originalEvent:e,el:t})}),ae(e,()=>{this.expander.expanded=!1,this.focus()})}focus(){this.getComponent("button").el.focus()}handleButtonEscape(){this.expander.expanded=!1}handleExpand(){this.emitComponentEvent({eventType:"expand"})}handleCollapse(){this.emitComponentEvent({eventType:"collapse"})}handleMenuSelect({el:t,originalEvent:e,index:n}){this.emitComponentEvent({eventType:"select",el:t,originalEvent:e,index:n})}handleMousedown(t,e){this.emitComponentEvent({eventType:"mousedown",el:e,originalEvent:t})}emitComponentEvent({eventType:t,el:e,originalEvent:n,index:h}){let r={el:e,originalEvent:n,index:h};r=Object.fromEntries(Object.entries(r).filter(([,i])=>i!==void 0)),this.emit(`${t}`,r)}onRender(){typeof window<"u"&&this._cleanupMakeup()}onMount(){this._setupMakeup()}onUpdate(){this._setupMakeup()}onDestroy(){this._cleanupMakeup()}_setupMakeup(){this.expander=new ee(this.el,{hostSelector:".fake-menu-button__button",contentSelector:".fake-menu-button__menu",focusManagement:"interactive",expandOnClick:!0,autoCollapse:!0,alwaysDoFocusManagement:!0})}_cleanupMakeup(){this.expander&&this.expander.destroy()}}const f="+huDEVxE",o=H(f),he=o;L.r(f,()=>o);const T=ne;o._=N(function(c,t,e,n,h,r){const{class:i,style:O,type:S,text:p,icon:d,a11yText:V,noToggleIcon:b,reverse:y,fixWidth:$,borderless:x,size:F,priority:I,disabled:K,variant:m,items:j=[],label:u,textAlign:A,transparent:z,...P}=c;var s=m==="overflow",W=m==="form",k=!0;x&&(s=!1);var v=null,_="expand-btn",M,w=m==="icon"||s,C=Q;W?(_="btn",M="form"):w?(C=J,k=!1):(v=I||null,_="btn"),t.be("span",R(U(P),{class:E(["fake-menu-button",i]),style:q(O)}),"0",n,null,4,{"onexpander-expand":e.d("expander-expand","handleExpand",!1),"onexpander-collapse":e.d("expander-collapse","handleCollapse",!1),onmousedown:e.d("mousedown","handleMousedown",!1)});{l(C,{class:["fake-menu-button__button"],size:F,borderless:x,priority:v,variant:M,transparent:w&&z,iconOnly:!p&&!d&&!s,ariaExpanded:"false",ariaLabel:V,disabled:K,noToggleIcon:b,renderBody:a=>{s?l(X,{},a,e,"1"):(a.be("span",{class:E([`${_}__cell`,u&&"menu-button__control--custom-label",A==="center"&&"expand-btn__cell--center"])},"2",n,null,1),u?B(a,u.renderBody,null,null,null,null,e,"3"):(d&&B(a,d,null,null,null,null,e,"4"),p&&(a.be("span",null,"5",n,null,0),a.t(p,n),a.ee())),k&&!b&&l(Y,{},a,e,"6"),a.ee())}},t,e,"@button",[["escape","handleButtonEscape",!1]]);const g=[];for(const a of j||[])g.push({[Symbol.iterator]:Z,...a});l(D,{classPrefix:"fake-menu-button",type:S,reverse:s?!y:y,fixWidth:$,tabindex:-1,items:g},t,e,"@content",[["keydown","handleMenuKeydown",!1],["select","handleMenuSelect",!1]])}t.ee()},{t:f},T);o.Component=G(T,o._);export{he as _};

import{b as P,a as j}from"./utils-NX-dnf4r.js";import{t as F}from"./index-iqhZMf16.js";import{t as y,r as b,b as f,d as g}from"./registry-zqrnEiYK.js";import{C}from"./index-alcEgMKG.js";import{_ as r}from"./render-tag-_0PNNh6Y.js";import{_ as G}from"./index-sQkzr8PD.js";import{_ as q}from"./self-iterator-6yU_KG2T.js";import{_ as H}from"./index-DimFlsuh.js";import{d as k,t as Q,_ as U}from"./index-qGww6RZi.js";import{s as J}from"./index-l3FQEXUN.js";import{_ as K}from"./index-g2xi1LKt.js";import"./_commonjsHelpers-5-cIlDoe.js";import"./_commonjs-dynamic-modules-h-SxKiO4.js";/* empty css             *//* empty css                       *//* empty css                    */import"./dynamic-tag-4Gch17f1.js";import"./index-4ijq5S5t.js";import"./index-T-tr__32.js";import"./index-nZ7E-k9d.js";import"./index-7jFeXTCh.js";/* empty css               *//* empty css             */import"./index-4Ud0-PVY.js";import"./index-XjwwBzg5.js";import"./index-QGVtTfuc.js";import"./index-ERL0bCNR.js";import"./index-Fzo01Ouc.js";import"./index-o5F2CW61.js";import"./index-kURT6dDW.js";const X=`<h1 style='display: flex; justify-content: space-between; align-items: center;'>
    <span>
        ebay-date-textbox
    </span>
    <span style='font-weight: normal; font-size: medium; margin-bottom: -15px;'>
        DS v1.2.0
    </span>
</h1>

Date textbox component, used as an alternative method for entering dates instead of \`<input type="date">\`.

## Examples and Documentation

-   [Storybook](https://ebay.github.io/ebayui-core/?path=/story/dialogs-ebay-date-textbox)
-   [Storybook Docs](https://ebay.github.io/ebayui-core/?path=/docs/dialogs-ebay-date-textbox)
-   [Code Examples](https://github.com/eBay/ebayui-core/tree/master/src/components/ebay-date-textbox/examples)
`,Z=600;class ee extends Marko.Component{onCreate(){this.state={numMonths:1,firstSelected:null,secondSelected:null,popover:!1},typeof document<"u"&&this.calculateNumMonths()}onMount(){this.expander=new J(this.el,{hostSelector:".ebay-date-textbox--main > .icon-btn",contentSelector:".date-textbox__popover",expandOnClick:!0,autoCollapse:!0})}onDestroy(){var e;(e=this.expander)==null||e.destroy()}onInput(e){e.value!==void 0&&(this.state.firstSelected=k(e.value)),e.rangeEnd&&(this.state.secondSelected=k(e.rangeEnd)),e.range||(this.state.secondSelected=null)}calculateNumMonths(){this.state.numMonths=document.documentElement.clientWidth<Z?1:2}handleInputChange(e,{value:a}){const n=new Date(a),t=isNaN(n.getTime())?null:Q(n);e===0?this.state.firstSelected=t:this.state.secondSelected=t,this.emitSelectedChange()}openPopover(){this.state.popover=!0}closePopover(){this.state.popover=!1}onPopoverSelect({iso:e}){const{firstSelected:a,secondSelected:n}=this.state;if(this.state.firstSelected=e,this.input.range){const t=a||n;a&&n?this.state.secondSelected=null:t&&(t<e?(this.state.firstSelected=t,this.state.secondSelected=e):this.state.secondSelected=t,this.input.collapseOnSelect&&(this.expander.expanded=!1))}else this.input.collapseOnSelect&&(this.expander.expanded=!1);this.emitSelectedChange()}emitSelectedChange(){this.emit("change",this.input.range?{rangeStart:this.state.firstSelected,rangeEnd:this.state.secondSelected}:{selected:this.state.firstSelected})}}const x="mSPRAI2e",d=y(x),S=d;b.r(x,()=>d);const $=ee;d._=f(function(o,e,a,n,t,v){const{a11yOpenPopoverText:s="open calendar",range:p,inputPlaceholderText:m="YYYY-MM-DD",...L}=o,[N,W]=Array.isArray(m)?m:[m,m];e.be("span",{class:"date-textbox"},"0",n,null,1,{"onexpander-expand":a.d("expander-expand","openPopover",!1),"onexpander-collapse":a.d("expander-collapse","closePopover",!1)}),p&&r(C,{placeholder:N,value:t.firstSelected},e,a,"1",[["blur","handleInputChange",!1,[0]]]),r(C,{class:"ebay-date-textbox--main",placeholder:W,buttonAriaLabel:s,value:p?t.secondSelected:t.firstSelected,postfixIcon:{renderBody:z=>{r(G,{},z,a,"3")},[Symbol.iterator]:q}},e,a,"2",[["blur","handleInputChange",!1,[p?1:0]]]),e.be("div",{hidden:!t.popover,class:"date-textbox__popover"},"@popover",n,null,0),t.popover&&r(H,{to:typeof window=="object"&&window,__events:["on","resize"]},e,a,"4",[["resize","calculateNumMonths",!1]]),r(U,{...L,range:p,interactive:!0,navigable:!0,numMonths:t.numMonths,selected:t.firstSelected&&t.secondSelected?[t.firstSelected,t.secondSelected]:t.firstSelected||t.secondSelected||void 0},e,a,"5",[["select","onPopoverSelect",!1]]),e.ee(),e.ee()},{t:x},$);d.Component=g($,d._);const _="l2ccq64P",i=y(_);b.r(_,()=>i);const A={};i._=f(function(o,e,a,n,t,v){r(S,{disableBefore:new Date,range:!0,locale:"af",getA11yShowMonthText:s=>`Gaan na ${s}`,a11ySelectedText:"Geselekteerde",a11yRangeStartText:"Reeks begin",a11yInRangeText:"Binne bereik",a11yRangeEndText:"Reeks einde"},e,a,"0",[["change","emit",!1,["change"]]])},{t:_,i:!0},A);i.Component=g(A,i._);const te=`<ebay-date-textbox
    disableBefore=new Date()
    range
    locale="af"
    getA11yShowMonthText=(monthName) => \`Gaan na \${monthName}\`
    a11ySelectedText="Geselekteerde"
    a11yRangeStartText="Reeks begin"
    a11yInRangeText="Binne bereik"
    a11yRangeEndText="Reeks einde"
    on-change("emit", "change")/>
`,T="w1FRpQRA",c=y(T);b.r(T,()=>c);const B={onCreate(){this.state={value:null}},handleChange({selected:o}){this.state.value=o},clear(){this.state.value=null}};c._=f(function(o,e,a,n,t,v){r(S,{value:t.value},e,a,"0",[["change","handleChange",!1]]),r(K,{renderBody:s=>{s.t("Clear",n)}},e,a,"1",[["click","clear",!1]])},{t:T},B);c.Component=g(B,c._);const ae=`class {
    onCreate() {
        this.state = {
            value: null,
        };
    }

    handleChange({ selected }) {
        this.state.value = selected;
    }

    clear() {
        this.state.value = null;
    }
}

<ebay-date-textbox value=state.value onChange("handleChange")/>

<ebay-button onClick("clear")>
    Clear
</ebay-button>
`,ne=o=>({input:j(o)}),Oe={title:"form input/ebay-date-textbox",component:S,parameters:{docs:{description:{component:X}}},argTypes:{value:{type:"date",control:{type:"date"},description:"Selected date",table:{defaultValue:{summary:"undefined"}}},range:{type:"boolean",control:{type:"boolean"},description:"True if selecting a range, false if a single value",table:{defaultValue:{summary:"false"}}},rangeEnd:{type:"date",control:{type:"date"},description:"If range is true, the end of the selected range",table:{defaultValue:{summary:"undefined"}}},locale:{type:"text",control:{type:"text"},description:"Locale of the date picker",table:{defaultValue:{summary:"navigator.language"}}},disableBefore:{type:"date",control:{type:"date"},description:"First date that may be selected. Should be an ISO string, but also accepts a timestamp or `Date` object",table:{defaultValue:{summary:"undefined"}}},disableAfter:{type:"date",control:{type:"date"},description:"Last date that may be selected. Should be an ISO string, but also accepts a timestamp or `Date` object",table:{defaultValue:{summary:"undefined"}}},disableWeekdays:{type:"array",control:{type:"array"},description:"List of weekdays that are disabled. Must be an array of numbers, where Sunday is `0` and Saturday is `6`",table:{defaultValue:{summary:"undefined"}}},disableList:{type:"array",control:{type:"array"},description:"List of specific days that are disabled. Should be a list of ISO strings, but also accepts timestamps or `Date` objects",table:{defaultValue:{summary:"undefined"}}},collapseOnSelect:{type:"boolean",control:{type:"boolean"},description:"Whether the calendar should collapse after a date is selected",table:{defaultValue:{summary:"false"}}},getA11yShowMonthText:{type:"callback",control:{type:"callback"},description:"Function used to get the text for showing previous and next months",table:{defaultValue:{summary:"(monthName) => `Show ${monthName}`"}}},a11ySelectedText:{type:"text",control:{type:"text"},description:"Text to be read by screen readers when a date is selected",table:{defaultValue:{summary:"selected"}}},a11yRangeStartText:{type:"text",control:{type:"text"},description:"Text to be read by screen readers when a date is the start of a range",table:{defaultValue:{summary:"start of range"}}},a11yInRangeText:{type:"text",control:{type:"text"},description:"Text to be read by screen readers when a date is in a range",table:{defaultValue:{summary:"in range"}}},a11yRangeEndText:{type:"text",control:{type:"text"},description:"Text to be read by screen readers when a date is the end of a range",table:{defaultValue:{summary:"end of range"}}},a11ySeparator:{type:"text",control:{type:"text"},description:"Text to be read by screen readers to separate properties",table:{defaultValue:{summary:" - "}}},a11yOpenPopoverText:{type:"text",control:{type:"text"},description:"A11y label for the button that opens the calendar popover",table:{defaultValue:{summary:"open calendar"}}},inputPlaceholderText:{type:"text|array",control:{type:"object"},description:'Text for the input placeholder. Should indicate that users need to enter dates in ISO format. If separate placeholders are required for a range display, use an array of two strings (i. e. `["Start (YYYY-MM-DD)", "End (YYYY-MM-DD)"]`).',table:{defaultValue:{summary:'"YYYY-MM-DD"'}}},onChange:{action:"on-change",description:"Triggered when the selection changes",table:{category:"Events",defaultValue:{summary:"{ selected } | { rangeStart, rangeEnd }"}}}}},l=ne.bind({});l.parameters={docs:{source:{code:F("ebay-date-textbox",{})}}};const u=P(i,te),h=P(c,ae);var w,M,I;l.parameters={...l.parameters,docs:{...(w=l.parameters)==null?void 0:w.docs,source:{originalSource:`args => ({
  input: addRenderBodies(args)
})`,...(I=(M=l.parameters)==null?void 0:M.docs)==null?void 0:I.source}}};var R,E,D;u.parameters={...u.parameters,docs:{...(R=u.parameters)==null?void 0:R.docs,source:{originalSource:"buildExtensionTemplate(LocalizedTemplate, LocalizedTemplateCode)",...(D=(E=u.parameters)==null?void 0:E.docs)==null?void 0:D.source}}};var V,Y,O;h.parameters={...h.parameters,docs:{...(V=h.parameters)==null?void 0:V.docs,source:{originalSource:"buildExtensionTemplate(WithClearTemplate, WithClearTemplateCode)",...(O=(Y=h.parameters)==null?void 0:Y.docs)==null?void 0:O.source}}};const Pe=["Default","Localized","WithClear"];export{l as Default,u as Localized,h as WithClear,Pe as __namedExportsOrder,Oe as default};

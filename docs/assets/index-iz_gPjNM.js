import{r as x,b as w,d as T,t as k}from"./registry-zqrnEiYK.js";import{_ as y}from"./repeatable-jmdwKenu.js";import{_ as E}from"./self-iterator-6yU_KG2T.js";import{_ as S}from"./dynamic-tag-4Gch17f1.js";import{_ as b}from"./index-peAB2o_3.js";import{_ as M}from"./render-tag-_0PNNh6Y.js";class C extends Marko.Component{setExpandedState(t){t!==this.state.expanded&&(this.state.expanded=t,t?this.emit("expanded"):this.emit("collapsed"))}handleExpand(){this.setExpandedState(!this.state.expanded)}handleScroll(){this.setExpandedState(!0)}handleTouchStart(t){const e=t.changedTouches;this.touches=[];for(let a=0;a<e.length;a++){const{identifier:o,pageY:s}=e[a];this.touches.push({identifier:o,pageY:s})}}handleTouchMove(t){if(this.touches.length)for(let e=0;e<t.changedTouches.length;e++){const a=t.changedTouches[e],o=this.touches.findIndex(n=>n.identifier===a.identifier),s=a.pageY-this.touches[o].pageY;s>30?(this.state.expanded?this.setExpandedState(!1):this.getComponent("dialog").state.open=!1,this.handleTouchEnd(t)):s<-30&&(this.setExpandedState(!0),this.handleTouchEnd(t))}}handleTouchEnd(t){for(let e=0;e<t.changedTouches.length;e++){const a=t.changedTouches[e],o=this.touches.findIndex(s=>s.identifier===a.identifier);o>-1&&this.touches.splice(o,1)}}onMount(){this.touches=[]}onInput(t){this.state={expanded:t.expanded||!1}}}const r="xXHbgy5g",d=k(r);x.r(r,()=>d);const c=C;d._=w(function(h,t,e,a,o,s){const{class:n,noHandle:u,renderBody:p,a11yMaximizeText:m="Maximize Drawer",a11yMinimizeText:f="Minimize Drawer",..._}=h,g=o.expanded?f:m;let i=null;u||(i=y(i,{renderBody:l=>{l.e("button",{"aria-label":g,type:"button",class:"drawer-dialog__handle"},"0",a,0,0,{onclick:e.d("click","handleExpand",!1),ontouchstart:e.d("touchstart","handleTouchStart",!1),ontouchmove:e.d("touchmove","handleTouchMove",!1),ontouchend:e.d("touchend","handleTouchEnd",!1),ontouchcancel:e.d("touchcancel","handleTouchEnd",!1)})},[Symbol.iterator]:E})),M(b,{..._,classPrefix:"drawer-dialog",class:[n,"drawer-dialog--mask-fade-slow"],windowClass:["drawer-dialog__window","drawer-dialog__window--slide",o.expanded&&"drawer-dialog__window--expanded"],top:i,renderBody:l=>{S(l,p,null,null,null,null,e,"1")}},t,e,"@dialog",[["scroll","handleScroll",!1],["open","emit",!1,["open"]],["close","emit",!1,["close"]]])},{t:r},c);d.Component=T(c,d._);export{d as _};

import{t as A,r as H,b as U,f as g,p as b,g as u,h as f,d as B}from"./registry-EgEQwbXk.js";/* empty css             */import{_ as N}from"./dynamic-tag-7vXwaVzE.js";import{_ as W}from"./index-4rNb1p4D.js";import{_ as x}from"./render-tag-_0PNNh6Y.js";import{_ as G}from"./index-HaLoY7FK.js";import{a as J,r as Y}from"./index-sDZ0BqWo.js";import{c as q}from"./index-j_KV6Utw.js";import{a as z,h as F}from"./index-whtpiCcX.js";import{M as Q,s as X}from"./index-j-rYSiF3.js";function Z(){let r,e="";return{getIndex:function(t,s,n){e=e.concat(s);let a;if(t==null)return-1;const o=e.toLocaleLowerCase();return a=[...t].findIndex(i=>i.textContent.toLocaleLowerCase().startsWith(o)),a===-1&&(a=[...t].findIndex(i=>i.textContent.toLocaleLowerCase().includes(o))),setTimeout(()=>{clearTimeout(r),e=""},n),a},destroy:function(){}}}const D=1300;class ee extends Q{onCreate(){X(this)}toggleItemChecked(e,t,s){const n=this.isRadio()&&e!==this.state.checkedIndex;this.toggleChecked(e),n?this.emitComponentEvent({index:e,eventType:"change",el:s,originalEvent:t}):this.type!=="radio"&&this.emitComponentEvent({index:e,eventType:this.type?"change":"select",el:s,originalEvent:t}),this.rovingTabindex&&(this.tabindexPosition=this.rovingTabindex.items.findIndex(a=>a.tabIndex===0))}handleItemClick(e,t,s){this.toggleItemChecked(e,t,s)}handleItemKeydown(e,t,s){z(t,()=>{this.emitComponentEvent({eventType:"keydown",originalEvent:t,index:e})}),F(t,()=>this.toggleItemChecked(e,t,s))}handleItemKeypress({key:e}){const t=this.getTypeaheadIndex(this.getEl("menu").children,e,this.input.typeaheadTimeoutLength||D);t!==-1&&(this.tabindexPosition=this.rovingTabindex.index=t)}emitComponentEvent({eventType:e,el:t,originalEvent:s,index:n}){const a=this.getCheckedIndexes(),o=this.type==="checkbox",i={el:t,originalEvent:s};o&&a&&a.length>1?Object.assign(i,{index:n,indexes:this.getCheckedIndexes(),checked:this.getCheckedIndexes(),checkedValues:this.getCheckedValues()}):o||this.isRadio()?Object.assign(i,{index:n,checked:this.getCheckedIndexes(),checkedValues:this.getCheckedValues()}):Object.assign(i,{index:n,checked:[n]}),this.emit(`${e}`,i)}onInput(e){this.state=this.getInputState(e)}onRender(){typeof window<"u"&&this._cleanupMakeup()}onMount(){this.tabindexPosition=0,this._setupMakeup()}onUpdate(){this._setupMakeup()}onDestroy(){this._cleanupMakeup()}_setupMakeup(){this.contentEl=this.getEl("menu"),this.rovingTabindex=q(this.contentEl,"div",{index:this.tabindexPosition,autoReset:null}),J(this.contentEl);const{getIndex:e,destroy:t}=Z();this.getTypeaheadIndex=e,this.destroyTypeahead=t}_cleanupMakeup(){this.rovingTabindex&&(this.rovingTabindex.destroy(),Y(this.contentEl)),this.destroyTypeahead&&this.destroyTypeahead()}}const y="6hbJ9uLV",c=A(y),ue=c;H.r(y,()=>c);const C=ee;c._=U(function(r,e,t,s,n,a){const{class:o,style:i,classPrefix:_,type:m,reverse:I,fixWidth:T,items:te,...v}=r;var w=m==="radio",M=m==="checkbox",E=m==="checkbox"||m==="radio",d=_||"menu",$=s.getSeparatorMap(r);e.be("span",g(b(v),{class:u([_?`${d}__menu`:"menu",I&&`${d}__menu--reverse`,T&&`${d}__menu--fix-width`,o]),style:f(i)}),"0",s,null,4),e.be("div",{role:"menu",class:u(`${d}__items`),id:t.elId("menu")},"@menu",s,null,0);{let P=0;for(const R of s.items||[]){let h=P++;const l=`[${h}]`,{class:O,style:S,value:se,checked:ae,badgeNumber:k,disabled:p,renderBody:V,...j}=R;var L=w?"menuitemradio":M?"menuitemcheckbox":"menuitem",K=s.isChecked(h);$[h]&&e.e("hr",{class:u(`${d}__separator`),role:"separator"},"1"+l,s,0,0),e.be("div",g(b(j),{class:u([`${d}__item`,O,k!==void 0&&`${d}__item--badged`]),style:f(S),"aria-checked":E&&(K?"true":"false"),"aria-disabled":p&&"true",role:L}),"@item[]",s,null,4,{onclick:t.d("click",!p&&"handleItemClick",!1,[h]),onkeydown:t.d("keydown",!p&&"handleItemKeydown",!1,[h]),onkeypress:t.d("keypress",!p&&"handleItemKeypress",!1)}),e.be("span",null,"2"+l,s,null,0),N(e,V,null,null,null,null,t,"3"+l),k&&x(W,{type:"menu",number:k},e,t,"4"+l),e.ee(),x(G,{},e,t,"5"+l),e.ee()}}e.ee(),e.ee()},{t:y},C);c.Component=B(C,c._);export{ue as C};

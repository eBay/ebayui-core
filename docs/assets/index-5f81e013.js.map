{"version":3,"file":"index-5f81e013.js","sources":["../../node_modules/makeup-next-id/dist/mjs/index.js","../../node_modules/makeup-exit-emitter/dist/mjs/index.js"],"sourcesContent":["const sequenceMap = {};\nconst defaultPrefix = \"nid\";\nconst randomPortion = createRandomPortion(3);\nfunction randomNumber(max) {\n  return Math.floor(Math.random() * max);\n}\nfunction createRandomPortion(size) {\n  const letters = \"abcdefghijklmnopqrstuvwxyz\";\n  const digits = \"0123456789\";\n  const allChars = letters + digits;\n  let portion = letters[randomNumber(25)];\n  for (let i = 1; i < size; i++) {\n    portion += allChars[randomNumber(35)];\n  }\n  return portion;\n}\nfunction src_default(el, prefix = defaultPrefix) {\n  const separator = prefix === \"\" ? \"\" : \"-\";\n  const key = `${prefix}${separator}${randomPortion}`;\n  sequenceMap[key] = sequenceMap[key] || 0;\n  if (!el.id) {\n    el.setAttribute(\"id\", `${key}-${sequenceMap[key]++}`);\n  }\n  return el.id;\n}\nexport {\n  src_default as default\n};\n","import nextID from \"makeup-next-id\";\nconst focusExitEmitters = {};\nfunction doFocusExit(el, fromElement, toElement) {\n  el.dispatchEvent(new CustomEvent(\"focusExit\", {\n    detail: { fromElement, toElement },\n    bubbles: false\n  }));\n}\nfunction onDocumentFocusIn(e) {\n  const newFocusElement = e.target;\n  const targetIsDescendant = this.el.contains(newFocusElement);\n  if (targetIsDescendant === true) {\n    this.currentFocusElement = newFocusElement;\n  } else {\n    window.removeEventListener(\"blur\", this.onWindowBlurListener);\n    document.removeEventListener(\"focusin\", this.onDocumentFocusInListener);\n    doFocusExit(this.el, this.currentFocusElement, newFocusElement);\n    this.currentFocusElement = null;\n  }\n}\nfunction onWindowBlur() {\n  doFocusExit(this.el, this.currentFocusElement, void 0);\n}\nfunction onWidgetFocusIn() {\n  document.addEventListener(\"focusin\", this.onDocumentFocusInListener);\n  window.addEventListener(\"blur\", this.onWindowBlurListener);\n}\nclass FocusExitEmitter {\n  constructor(el) {\n    this.el = el;\n    this.currentFocusElement = null;\n    this.onWidgetFocusInListener = onWidgetFocusIn.bind(this);\n    this.onDocumentFocusInListener = onDocumentFocusIn.bind(this);\n    this.onWindowBlurListener = onWindowBlur.bind(this);\n    this.el.addEventListener(\"focusin\", this.onWidgetFocusInListener);\n  }\n  removeEventListeners() {\n    window.removeEventListener(\"blur\", this.onWindowBlurListener);\n    document.removeEventListener(\"focusin\", this.onDocumentFocusInListener);\n    this.el.removeEventListener(\"focusin\", this.onWidgetFocusInListener);\n  }\n}\nfunction addFocusExit(el) {\n  let exitEmitter = null;\n  nextID(el);\n  if (!focusExitEmitters[el.id]) {\n    exitEmitter = new FocusExitEmitter(el);\n    focusExitEmitters[el.id] = exitEmitter;\n  }\n  return exitEmitter;\n}\nfunction removeFocusExit(el) {\n  const exitEmitter = focusExitEmitters[el.id];\n  if (exitEmitter) {\n    exitEmitter.removeEventListeners();\n    delete focusExitEmitters[el.id];\n  }\n}\nexport {\n  addFocusExit,\n  removeFocusExit\n};\n"],"names":["sequenceMap","defaultPrefix","randomPortion","createRandomPortion","randomNumber","max","size","letters","allChars","portion","i","src_default","el","prefix","key","focusExitEmitters","doFocusExit","fromElement","toElement","onDocumentFocusIn","e","newFocusElement","onWindowBlur","onWidgetFocusIn","FocusExitEmitter","addFocusExit","exitEmitter","nextID","removeFocusExit"],"mappings":"AAAA,MAAMA,EAAc,CAAA,EACdC,EAAgB,MAChBC,EAAgBC,EAAoB,CAAC,EAC3C,SAASC,EAAaC,EAAK,CACzB,OAAO,KAAK,MAAM,KAAK,OAAQ,EAAGA,CAAG,CACvC,CACA,SAASF,EAAoBG,EAAM,CACjC,MAAMC,EAAU,6BAEVC,EAAWD,EADF,aAEf,IAAIE,EAAUF,EAAQH,EAAa,EAAE,CAAC,EACtC,QAASM,EAAI,EAAGA,EAAIJ,EAAMI,IACxBD,GAAWD,EAASJ,EAAa,EAAE,CAAC,EAEtC,OAAOK,CACT,CACA,SAASE,EAAYC,EAAIC,EAASZ,EAAe,CAE/C,MAAMa,EAAM,GAAGD,CAAM,GADHA,IAAW,GAAK,GAAK,GACN,GAAGX,CAAa,GACjD,OAAAF,EAAYc,CAAG,EAAId,EAAYc,CAAG,GAAK,EAClCF,EAAG,IACNA,EAAG,aAAa,KAAM,GAAGE,CAAG,IAAId,EAAYc,CAAG,GAAG,EAAE,EAE/CF,EAAG,EACZ,CCvBA,MAAMG,EAAoB,CAAA,EAC1B,SAASC,EAAYJ,EAAIK,EAAaC,EAAW,CAC/CN,EAAG,cAAc,IAAI,YAAY,YAAa,CAC5C,OAAQ,CAAE,YAAAK,EAAa,UAAAC,CAAW,EAClC,QAAS,EACV,CAAA,CAAC,CACJ,CACA,SAASC,EAAkBC,EAAG,CAC5B,MAAMC,EAAkBD,EAAE,OACC,KAAK,GAAG,SAASC,CAAe,IAChC,GACzB,KAAK,oBAAsBA,GAE3B,OAAO,oBAAoB,OAAQ,KAAK,oBAAoB,EAC5D,SAAS,oBAAoB,UAAW,KAAK,yBAAyB,EACtEL,EAAY,KAAK,GAAI,KAAK,oBAAqBK,CAAe,EAC9D,KAAK,oBAAsB,KAE/B,CACA,SAASC,GAAe,CACtBN,EAAY,KAAK,GAAI,KAAK,oBAAqB,MAAM,CACvD,CACA,SAASO,GAAkB,CACzB,SAAS,iBAAiB,UAAW,KAAK,yBAAyB,EACnE,OAAO,iBAAiB,OAAQ,KAAK,oBAAoB,CAC3D,CACA,MAAMC,CAAiB,CACrB,YAAYZ,EAAI,CACd,KAAK,GAAKA,EACV,KAAK,oBAAsB,KAC3B,KAAK,wBAA0BW,EAAgB,KAAK,IAAI,EACxD,KAAK,0BAA4BJ,EAAkB,KAAK,IAAI,EAC5D,KAAK,qBAAuBG,EAAa,KAAK,IAAI,EAClD,KAAK,GAAG,iBAAiB,UAAW,KAAK,uBAAuB,CACjE,CACD,sBAAuB,CACrB,OAAO,oBAAoB,OAAQ,KAAK,oBAAoB,EAC5D,SAAS,oBAAoB,UAAW,KAAK,yBAAyB,EACtE,KAAK,GAAG,oBAAoB,UAAW,KAAK,uBAAuB,CACpE,CACH,CACA,SAASG,EAAab,EAAI,CACxB,IAAIc,EAAc,KAClBC,OAAAA,EAAOf,CAAE,EACJG,EAAkBH,EAAG,EAAE,IAC1Bc,EAAc,IAAIF,EAAiBZ,CAAE,EACrCG,EAAkBH,EAAG,EAAE,EAAIc,GAEtBA,CACT,CACA,SAASE,EAAgBhB,EAAI,CAC3B,MAAMc,EAAcX,EAAkBH,EAAG,EAAE,EACvCc,IACFA,EAAY,qBAAoB,EAChC,OAAOX,EAAkBH,EAAG,EAAE,EAElC","x_google_ignoreList":[0,1]}
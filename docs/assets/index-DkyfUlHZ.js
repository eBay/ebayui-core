import{r as x,b as _,d as w,t as T}from"./registry-D0x2Lw0V.js";import{i as k,a as E}from"./attr-tag-W-ozfNNY.js";import{_ as y}from"./dynamic-tag-BSuzyz1c.js";import{_ as S}from"./index-naZEvJVz.js";import{_ as M}from"./render-tag-Buaq4gMc.js";class b extends Marko.Component{setExpandedState(t){t!==this.state.expanded&&(this.state.expanded=t,t?this.emit("expanded"):this.emit("collapsed"))}handleExpand(){this.setExpandedState(!this.state.expanded)}handleScroll(){this.setExpandedState(!0)}handleTouchStart(t){const e=t.changedTouches;this.touches=[];for(let a=0;a<e.length;a++){const{identifier:o,pageY:d}=e[a];this.touches.push({identifier:o,pageY:d})}}handleTouchMove(t){if(this.touches.length)for(let e=0;e<t.changedTouches.length;e++){const a=t.changedTouches[e],o=this.touches.findIndex(s=>s.identifier===a.identifier),d=a.pageY-this.touches[o].pageY;d>30?(this.state.expanded?this.setExpandedState(!1):this.getComponent("dialog").state.open=!1,this.handleTouchEnd(t)):d<-30&&(this.setExpandedState(!0),this.handleTouchEnd(t))}}handleTouchEnd(t){for(let e=0;e<t.changedTouches.length;e++){const a=t.changedTouches[e],o=this.touches.findIndex(d=>d.identifier===a.identifier);o>-1&&this.touches.splice(o,1)}}onMount(){this.touches=[]}onInput(t){this.state={expanded:t.expanded||!1}}}const l="xXHbgy5g",n=T(l);x.r(l,()=>n);const r=b;n._=_(function(h,t,e,a,o,d){const{class:s,noHandle:c,renderBody:u,a11yMaximizeText:p="Maximize Drawer",a11yMinimizeText:f="Minimize Drawer",...m}=h,g=o.expanded?f:p;M(S,k(()=>(c||E("top",{renderBody:i=>{i.e("button",{"aria-label":g,type:"button",class:"drawer-dialog__handle"},"0",a,0,0,{onclick:e.d("click","handleExpand",!1),ontouchstart:e.d("touchstart","handleTouchStart",!1),ontouchmove:e.d("touchmove","handleTouchMove",!1),ontouchend:e.d("touchend","handleTouchEnd",!1),ontouchcancel:e.d("touchcancel","handleTouchEnd",!1)})}}),i=>{y(i,u,null,null,null,null,e,"1")}),{...m,classPrefix:"drawer-dialog",class:[s,"drawer-dialog--mask-fade-slow"],windowClass:["drawer-dialog__window","drawer-dialog__window--slide",o.expanded&&"drawer-dialog__window--expanded"]}),t,e,"@dialog",[["scroll","handleScroll",!1],["open","emit",!1,["open"]],["close","emit",!1,["close"]]])},{t:l},r);n.Component=w(r,n._);export{n as _};

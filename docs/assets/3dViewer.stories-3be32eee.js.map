{"version":3,"file":"3dViewer.stories-3be32eee.js","sources":["../../src/components/ebay-3d-viewer/README.md","../../src/components/ebay-3d-viewer/component.js","../../src/components/ebay-3d-viewer/index.marko"],"sourcesContent":["export default \"<h1 style='display: flex; justify-content: space-between; align-items: center;'>\\n    <span>\\n        ebay-3d-viewer\\n    </span>\\n    <span style='font-weight: normal; font-size: medium; margin-bottom: -15px;'>\\n        DS v1.0.0\\n    </span>\\n</h1>\\n\\n## ebay-3d-viewer (_ALPHA_, some APIs might change)\\n\\nUnder the hood, this uses google model viewer. All APIs are passthough to the model viewer. To use methods on the model-viewer, you can access `viewer` object on the component.\\n\\n## Examples and Documentation\\n\\n-   [Storybook](https://ebay.github.io/ebayui-core/?path=/story/media-ebay-3d-viewer)\\n-   [Storybook Docs](https://ebay.github.io/ebayui-core/?path=/docs/media-ebay-3d-viewer)\\n-   [Code Examples](https://github.com/eBay/ebayui-core/tree/master/src/components/ebay-3d-viewer/examples)\\n\"","import { CDNLoader } from \"../../common/cdn\";\n\nexport default {\n    handleError(err) {\n        this.state.failed = true;\n        this.state.isLoaded = true;\n        this.emit(\"load-error\", err);\n    },\n\n    onCreate() {\n        this.state = {\n            showLoading: false,\n            isLoaded: true,\n            failed: false,\n        };\n\n        this.cdnLoader = new CDNLoader(this, {\n            key: \"modelViewer\",\n            types: [\"module\"],\n            files: [\"model-viewer.min.js\"],\n            setLoading: (value) => {\n                this.state.showLoading = value;\n            },\n            handleError: this.handleError.bind(this),\n            handleSuccess: this.handleSuccess.bind(this),\n        });\n    },\n\n    handleSuccess() {\n        this.state.isLoaded = true;\n        this.state.showLoading = false;\n        this.state.failed = false;\n    },\n\n    onMount() {\n        this.viewer = this.getEl(\"3d-viewer\");\n        this._loadViewer();\n    },\n\n    _loadViewer() {\n        this.state.failed = false;\n        this.state.isLoaded = false;\n\n        this.cdnLoader\n            .setOverrides([this.input.cdnUrl], this.input.version)\n            .mount();\n    },\n};\n","import { processHtmlAttributes } from '../../common/html-attributes';\nstatic const isBrowser = typeof window !== 'undefined';\nstatic {\n    var ignoredAttributes = [\n        'class',\n        'src',\n        'a11yText'\n    ];\n}\n\n<div\n    class=['three-d-player', input.class]>\n    <${'model-viewer'}\n        camera-controls\n        touch-action=\"pan-y\"\n        key='3d-viewer'\n        alt=input.a11yText\n        src=input.src\n        ...processHtmlAttributes(input, ignoredAttributes)\n        on-error('handleError')\n        on-load('emit', 'load')\n        on-progress('emit', 'progress')\n        on-model-visibility('emit', 'model-visibility')\n        on-poster-dismissed('emit', 'poster-dismissed')\n        on-render-scale('emit', 'render-scale')\n        />\n    <div class=['three-d-player__overlay', !state.failed && 'three-d-player__overlay--hidden']>\n        <ebay-attention-24-icon/>\n        <div.three-d-player__overlay-text>\n            <if(input.errorText)>${input.errorText}</if>\n            <else>An error has occurred</else>\n        </div>\n    </div>\n    <div class=['three-d-player__overlay', state.isLoaded && 'three-d-player__overlay--hidden']>\n        <if(!state.showLoading)>\n            <ebay-play-64-colored-icon a11y-text=input.a11yStartText || 'Click to start'/>\n        </if>\n        <else><ebay-progress-spinner a11y-text=input.a11yLoadText || 'Loading'/></else>\n    </div>\n</div>\n"],"names":["Readme","_marko_component","err","CDNLoader","value","ignoredAttributes","_marko_registerComponent","_marko_componentType","_marko_template","_marko_component2","_","_marko_renderer","input","out","_componentDef","_component","state","$global","be","_marko_class_merge","class","_tagName","e","_marko_merge_attrs","a11yText","src","processHtmlAttributes","d","failed","_marko_tag","_ebayAttention24Icon","errorText","t","ee","isLoaded","showLoading","_ebayProgressSpinner","a11yLoadText","_ebayPlay64ColoredIcon","a11yStartText","Component","_marko_defineComponent"],"mappings":"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"}
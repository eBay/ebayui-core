{"version":3,"file":"index-2e2d6c5e.js","sources":["../../src/common/menu-utils/index.js"],"sourcesContent":["function isRadio() {\n    return this.type === \"radio\";\n}\n\nfunction getCheckedValues() {\n    if (this.isRadio()) {\n        const item = this.items[this.state.checkedIndex] || {};\n        return [item.value];\n    }\n    return this.items\n        .filter((item, index) => this.state.checkedItems[index])\n        .map((item) => item.value);\n}\n\nfunction getCheckedIndexes() {\n    if (this.isRadio()) {\n        return [this.state.checkedIndex];\n    }\n    return this.items\n        .map((item, i) => this.state.checkedItems[i] && i)\n        .filter((item) => item !== false && typeof item !== \"undefined\");\n}\n\nfunction getInputState(input) {\n    /* \n        ebay-menu uses separators and we need to exclude these \n        from items to pass correct indexes to state\n        Any other component that doesn't have separator should pass through\n    */\n    this.items = (input.items || []).filter((item) => !item.separator);\n    this.type = input.type;\n    if (this.isRadio()) {\n        return {\n            checkedIndex: (this.items || []).findIndex(\n                (item) => item.checked || false\n            ),\n        };\n    }\n    return {\n        checkedItems: (this.items || []).map((item) => item.checked || false),\n    };\n}\n\nfunction isChecked(index) {\n    if (this.isRadio()) {\n        return index === this.state.checkedIndex;\n    }\n    return this.state.checkedItems[index];\n}\n\nfunction isDisabled(index) {\n    return this.items[index].disabled;\n}\n\nfunction toggleChecked(index) {\n    if (Array.isArray(index)) {\n        if (this.isRadio()) {\n            this.state.checkedIndex = index[0];\n        } else {\n            this.state.checkedItems = this.state.checkedItems.map(\n                (item, i) => index.indexOf(i) !== -1\n            );\n        }\n        return;\n    }\n\n    if (this.isRadio() && index !== this.state.checkedIndex) {\n        this.state.checkedIndex = index;\n    } else if (this.type !== \"radio\") {\n        this.state.checkedItems[index] = !this.state.checkedItems[index];\n        this.setStateDirty(\"checkedItems\");\n    }\n}\n\nfunction getSeparatorMap(input) {\n    let separatorCount = 0;\n    return (input.items || []).reduce((map, item, index) => {\n        if (item.separator) {\n            map[index - separatorCount] = true;\n            separatorCount++;\n        }\n        return map;\n    }, {});\n}\n\nconst menuUtils = {\n    isRadio,\n    getInputState,\n    isChecked,\n    getCheckedIndexes,\n    getCheckedValues,\n    toggleChecked,\n    isDisabled,\n    getSeparatorMap,\n};\nexport default menuUtils;\n"],"names":["isRadio","getCheckedValues","item","index","getCheckedIndexes","i","getInputState","input","isChecked","isDisabled","toggleChecked","getSeparatorMap","separatorCount","map","menuUtils"],"mappings":"AAAA,SAASA,GAAU,CACf,OAAO,KAAK,OAAS,OACzB,CAEA,SAASC,GAAmB,CACxB,OAAI,KAAK,UAEE,EADM,KAAK,MAAM,KAAK,MAAM,YAAY,GAAK,IACvC,KAAK,EAEf,KAAK,MACP,OAAO,CAACC,EAAMC,IAAU,KAAK,MAAM,aAAaA,CAAK,CAAC,EACtD,IAAKD,GAASA,EAAK,KAAK,CACjC,CAEA,SAASE,GAAoB,CACzB,OAAI,KAAK,UACE,CAAC,KAAK,MAAM,YAAY,EAE5B,KAAK,MACP,IAAI,CAACF,EAAMG,IAAM,KAAK,MAAM,aAAaA,CAAC,GAAKA,CAAC,EAChD,OAAQH,GAASA,IAAS,IAAS,OAAOA,EAAS,GAAW,CACvE,CAEA,SAASI,EAAcC,EAAO,CAQ1B,OAFA,KAAK,OAASA,EAAM,OAAS,CAAA,GAAI,OAAQL,GAAS,CAACA,EAAK,SAAS,EACjE,KAAK,KAAOK,EAAM,KACd,KAAK,UACE,CACH,cAAe,KAAK,OAAS,CAAE,GAAE,UAC5BL,GAASA,EAAK,SAAW,EAC7B,CACb,EAEW,CACH,cAAe,KAAK,OAAS,CAAE,GAAE,IAAKA,GAASA,EAAK,SAAW,EAAK,CAC5E,CACA,CAEA,SAASM,EAAUL,EAAO,CACtB,OAAI,KAAK,UACEA,IAAU,KAAK,MAAM,aAEzB,KAAK,MAAM,aAAaA,CAAK,CACxC,CAEA,SAASM,EAAWN,EAAO,CACvB,OAAO,KAAK,MAAMA,CAAK,EAAE,QAC7B,CAEA,SAASO,EAAcP,EAAO,CAC1B,GAAI,MAAM,QAAQA,CAAK,EAAG,CAClB,KAAK,UACL,KAAK,MAAM,aAAeA,EAAM,CAAC,EAEjC,KAAK,MAAM,aAAe,KAAK,MAAM,aAAa,IAC9C,CAACD,EAAMG,IAAMF,EAAM,QAAQE,CAAC,IAAM,EAClD,EAEQ,MACH,CAEG,KAAK,QAAS,GAAIF,IAAU,KAAK,MAAM,aACvC,KAAK,MAAM,aAAeA,EACnB,KAAK,OAAS,UACrB,KAAK,MAAM,aAAaA,CAAK,EAAI,CAAC,KAAK,MAAM,aAAaA,CAAK,EAC/D,KAAK,cAAc,cAAc,EAEzC,CAEA,SAASQ,EAAgBJ,EAAO,CAC5B,IAAIK,EAAiB,EACrB,OAAQL,EAAM,OAAS,CAAE,GAAE,OAAO,CAACM,EAAKX,EAAMC,KACtCD,EAAK,YACLW,EAAIV,EAAQS,CAAc,EAAI,GAC9BA,KAEGC,GACR,CAAE,CAAA,CACT,CAEK,MAACC,EAAY,CACd,QAAAd,EACA,cAAAM,EACA,UAAAE,EACA,kBAAAJ,EACA,iBAAAH,EACA,cAAAS,EACA,WAAAD,EACA,gBAAAE,CACJ"}
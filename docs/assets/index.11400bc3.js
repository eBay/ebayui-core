import{t as O,r as k,a as M,d as E,m as j,c as v,s as P,p as T}from"./merge-attrs.9e0d7be9.js";import{_ as C}from"./index.4eb9bcd1.js";import{_ as S}from"./index.8ef6a7cb.js";/* empty css                    */import{_ as I}from"./index.aa9d8ea7.js";import{r as i}from"./render-tag.1a0b986f.js";import{d as x}from"./dynamic-tag.70156c9d.js";import{_ as B}from"./index.b54ea0ad.js";import{s as V}from"./self-iterator.45abe0c9.js";import{C as A}from"./index.57d4dbac.js";import{s as K}from"./index.0b516267.js";import{a as $,h as z}from"./index.cfa4da37.js";const F={handleMenuKeydown({el:e,originalEvent:t,index:r}){$(t,()=>{this.handleMenuSelect(r,t,e)}),z(t,()=>{this.expander.expanded=!1,this.focus()})},focus(){this.getComponent("button").el.focus()},handleButtonEscape(){this.expander.expanded=!1},handleExpand(){this.emitComponentEvent({eventType:"expand"})},handleCollapse(){this.emitComponentEvent({eventType:"collapse"})},handleMenuSelect({el:e,originalEvent:t,index:r}){this.emitComponentEvent({eventType:"select",el:e,originalEvent:t,index:r})},handleMousedown({el:e,originalEvent:t}){this.emitComponentEvent({eventType:"mousedown",el:e,originalEvent:t})},emitComponentEvent({eventType:e,el:t,originalEvent:r,index:a}){let o={el:t,originalEvent:r,index:a};o=Object.fromEntries(Object.entries(o).filter(([,m])=>m!==void 0)),this.emit(`${e}`,o)},onRender(){typeof window<"u"&&this._cleanupMakeup()},onMount(){this._setupMakeup()},onUpdate(){this._setupMakeup()},onDestroy(){this._cleanupMakeup()},_setupMakeup(){this.expander=new K(this.el,{hostSelector:".fake-menu-button__button",contentSelector:".fake-menu-button__menu",focusManagement:"interactive",expandOnClick:!0,autoCollapse:!0,alwaysDoFocusManagement:!0})},_cleanupMakeup(){this.expander&&this.expander.destroy()}};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(a){N(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function N(e,t,r){return t=H(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e){var t=L(e,"string");return typeof t=="symbol"?t:String(t)}function L(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const c="+huDEVxE",l=O(c),ae=l;var R=["class","style","type","text","icon","a11yText","noToggleIcon","expanded","reverse","fixWidth","borderless","size","priority","iconTag","disabled","variant","items","label","textAlign","transparent"];k.exports.r(c,()=>l);const _=F;l._=M(function(e,t,r,a,o,m){e.prefixId&&a.getElId("label");var s=e.variant==="overflow",w=e.variant==="form",f=!0;e.borderless&&(s=!1);var p=null,d="expand-btn",u,b=e.variant==="icon"||s,y=S;w?(d="btn",u="form"):b?(y=C,f=!1):(p=e.priority,d="btn"),t.be("span",j(T(e,R),{class:v(["fake-menu-button",e.class]),style:P(e.style)}),"0",a,null,4,{"onexpander-expand":r.d("expander-expand","handleExpand",!1),"onexpander-collapse":r.d("expander-collapse","handleCollapse",!1),onmousedown:r.d("mousedown","handleMousedown",!1)});{i(y,{class:["fake-menu-button__button"],size:e.size,borderless:e.borderless,priority:p,variant:u,transparent:b&&e.transparent,iconOnly:!e.text&&!e.icon&&!s,ariaExpanded:"false",ariaLabel:e.a11yText,disabled:e.disabled,noToggleIcon:e.noToggleIcon,renderBody:n=>{s?i(I,{},n,r,"1"):(n.be("span",{class:v(["".concat(d,"__cell"),e.label&&"menu-button__control--custom-label",e.textAlign==="center"&&"expand-btn__cell--center"])},"2",a,null,1),e.label?x(n,e.label.renderBody,null,null,null,null,r,"3"):(e.icon&&x(n,e.icon,null,null,null,null,r,"4"),e.text&&(n.be("span",null,"5",a,null,0),n.t(e.text,a),n.ee())),f&&!e.noToggleIcon&&i(B,{},n,r,"6"),n.ee())}},t,r,"@button",[["escape","handleButtonEscape",!1]]);const h=[];for(const n of e.items||[])h.push(W({[Symbol.iterator]:V},n));i(A,{classPrefix:"fake-menu-button",type:e.type,reverse:s?!e.reverse:e.reverse,fixWidth:e.fixWidth,tabindex:-1,items:h},t,r,"@content",[["keydown","handleMenuKeydown",!1],["select","handleMenuSelect",!1]])}t.ee()},{t:c},_);l.Component=E(_,l._);export{ae as _};
//# sourceMappingURL=index.11400bc3.js.map

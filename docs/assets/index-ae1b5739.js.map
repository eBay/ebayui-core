{"version":3,"file":"index-ae1b5739.js","sources":["../../node_modules/makeup-keyboard-trap/dist/mjs/index.js","../../node_modules/makeup-screenreader-trap/dist/mjs/util.js","../../node_modules/makeup-screenreader-trap/dist/mjs/index.js","../../src/common/body-scroll/index.js","../../src/common/transition/index.js","../../src/components/components/ebay-dialog-base/component.js","../../src/components/components/ebay-dialog-base/index.marko"],"sourcesContent":["import focusables from \"makeup-focusables\";\nlet trappedEl;\nlet topTrap;\nlet outerTrapBefore;\nlet innerTrapBefore;\nlet innerTrapAfter;\nlet outerTrapAfter;\nlet botTrap;\nlet firstFocusableElement;\nlet lastFocusableElement;\nfunction createTrapBoundary() {\n  const trapBoundary = document.createElement(\"div\");\n  trapBoundary.setAttribute(\"aria-hidden\", \"true\");\n  trapBoundary.setAttribute(\"tabindex\", \"0\");\n  trapBoundary.className = \"keyboard-trap-boundary\";\n  return trapBoundary;\n}\nfunction setFocusToFirstFocusableElement() {\n  firstFocusableElement.focus();\n}\nfunction setFocusToLastFocusableElement() {\n  lastFocusableElement.focus();\n}\nfunction createTraps() {\n  topTrap = createTrapBoundary();\n  outerTrapBefore = topTrap.cloneNode();\n  innerTrapBefore = topTrap.cloneNode();\n  innerTrapAfter = topTrap.cloneNode();\n  outerTrapAfter = topTrap.cloneNode();\n  botTrap = topTrap.cloneNode();\n  topTrap.addEventListener(\"focus\", setFocusToFirstFocusableElement);\n  outerTrapBefore.addEventListener(\"focus\", setFocusToFirstFocusableElement);\n  innerTrapBefore.addEventListener(\"focus\", setFocusToLastFocusableElement);\n  innerTrapAfter.addEventListener(\"focus\", setFocusToFirstFocusableElement);\n  outerTrapAfter.addEventListener(\"focus\", setFocusToLastFocusableElement);\n  botTrap.addEventListener(\"focus\", setFocusToLastFocusableElement);\n}\nfunction untrap() {\n  if (trappedEl) {\n    topTrap = safeDetach(topTrap);\n    outerTrapBefore = safeDetach(outerTrapBefore);\n    innerTrapBefore = safeDetach(innerTrapBefore);\n    innerTrapAfter = safeDetach(innerTrapAfter);\n    outerTrapAfter = safeDetach(outerTrapAfter);\n    botTrap = safeDetach(botTrap);\n    trappedEl.classList.remove(\"keyboard-trap--active\");\n    trappedEl.dispatchEvent(new CustomEvent(\"keyboardUntrap\", { bubbles: true }));\n    trappedEl = null;\n  }\n  return trappedEl;\n}\nfunction safeDetach(el) {\n  const parent = el.parentNode;\n  return parent ? parent.removeChild(el) : el;\n}\nfunction trap(el) {\n  if (!topTrap) {\n    createTraps();\n  } else {\n    untrap();\n  }\n  trappedEl = el;\n  const body = typeof document === \"undefined\" ? null : document.body;\n  const focusableElements = focusables(trappedEl, true);\n  firstFocusableElement = focusableElements[0];\n  lastFocusableElement = focusableElements[focusableElements.length - 1];\n  body.insertBefore(topTrap, body.childNodes[0]);\n  trappedEl.parentNode.insertBefore(outerTrapBefore, trappedEl);\n  trappedEl.insertBefore(innerTrapBefore, trappedEl.childNodes[0]);\n  trappedEl.appendChild(innerTrapAfter);\n  trappedEl.parentNode.insertBefore(outerTrapAfter, trappedEl.nextElementSibling);\n  body.appendChild(botTrap);\n  trappedEl.dispatchEvent(new CustomEvent(\"keyboardTrap\", { bubbles: true }));\n  trappedEl.classList.add(\"keyboard-trap--active\");\n  return trappedEl;\n}\nfunction refresh() {\n  if (topTrap && trappedEl) {\n    let focusableElements = focusables(trappedEl, true);\n    focusableElements = focusableElements.filter(function(el) {\n      return !el.classList.contains(\"keyboard-trap-boundary\");\n    });\n    firstFocusableElement = focusableElements[0];\n    lastFocusableElement = focusableElements[focusableElements.length - 1];\n  }\n}\nexport {\n  refresh,\n  trap,\n  untrap\n};\n","const filterAncestor = (item) => item.nodeType === 1 && item.tagName.toLowerCase() !== \"body\" && item.tagName.toLowerCase() !== \"html\";\nconst filterSibling = (item) => item.nodeType === 1 && item.tagName.toLowerCase() !== \"script\";\nconst flattenArrays = (a, b) => a.concat(b);\nfunction getPreviousSiblings(el, siblings = []) {\n  const previousSibling = el.previousSibling;\n  if (!previousSibling) {\n    return siblings;\n  }\n  siblings.push(previousSibling);\n  return getPreviousSiblings(previousSibling, siblings);\n}\nfunction getNextSiblings(el, siblings = []) {\n  const nextSibling = el.nextSibling;\n  if (!nextSibling) {\n    return siblings;\n  }\n  siblings.push(nextSibling);\n  return getNextSiblings(nextSibling, siblings);\n}\nfunction getSiblings(el) {\n  const allSiblings = getPreviousSiblings(el).concat(getNextSiblings(el));\n  return allSiblings.filter(filterSibling);\n}\nfunction getAllAncestors(el, ancestors = []) {\n  const nextAncestor = el.parentNode;\n  if (!nextAncestor) {\n    return ancestors;\n  }\n  ancestors.push(nextAncestor);\n  return getAllAncestors(nextAncestor, ancestors);\n}\nfunction getAncestors(el) {\n  return getAllAncestors(el).filter(filterAncestor);\n}\nfunction getSiblingsOfAncestors(el) {\n  return getAncestors(el).map((item) => getSiblings(item)).reduce(flattenArrays, []);\n}\nexport {\n  getAncestors,\n  getSiblings,\n  getSiblingsOfAncestors\n};\n","import * as util from \"./util.js\";\nlet mainEl;\nlet trappedEl;\nlet dirtyObjects;\nconst filterSvg = (item) => item.tagName.toLowerCase() !== \"svg\";\nfunction showElementPrep(el, useHiddenProperty) {\n  let preparedElement;\n  if (useHiddenProperty === false) {\n    preparedElement = prepareElement(el, \"aria-hidden\", \"false\");\n  } else {\n    preparedElement = prepareElement(el, \"hidden\", false);\n  }\n  return preparedElement;\n}\nfunction hideElementPrep(el, useHiddenProperty) {\n  let preparedElement;\n  if (useHiddenProperty === false) {\n    preparedElement = prepareElement(el, \"aria-hidden\", \"true\");\n  } else {\n    preparedElement = prepareElement(el, \"hidden\", true);\n  }\n  return preparedElement;\n}\nfunction prepareElement(el, attributeName, dirtyValue) {\n  const isProperty = typeof dirtyValue === \"boolean\";\n  return {\n    el,\n    attributeName,\n    cleanValue: isProperty ? el[attributeName] : el.getAttribute(attributeName),\n    dirtyValue,\n    isProperty\n  };\n}\nfunction dirtyElement(preparedObj) {\n  if (preparedObj.isProperty === true) {\n    preparedObj.el[preparedObj.attributeName] = preparedObj.dirtyValue;\n  } else {\n    preparedObj.el.setAttribute(preparedObj.attributeName, preparedObj.dirtyValue);\n  }\n}\nfunction cleanElement(preparedObj) {\n  if (preparedObj.cleanValue) {\n    if (preparedObj.isProperty === true) {\n      preparedObj.el[preparedObj.attributeName] = preparedObj.cleanValue;\n    } else {\n      preparedObj.el.setAttribute(preparedObj.attributeName, preparedObj.cleanValue);\n    }\n  } else {\n    preparedObj.el.removeAttribute(preparedObj.attributeName);\n  }\n}\nfunction untrap() {\n  if (trappedEl) {\n    dirtyObjects.forEach((item) => cleanElement(item));\n    dirtyObjects = [];\n    if (mainEl) {\n      mainEl.setAttribute(\"role\", \"main\");\n    }\n    trappedEl.dispatchEvent(new CustomEvent(\"screenreaderUntrap\", { bubbles: true }));\n    trappedEl = null;\n  }\n}\nconst defaultOptions = {\n  useHiddenProperty: false\n};\nfunction trap(el, selectedOptions) {\n  untrap();\n  const options = Object.assign({}, defaultOptions, selectedOptions);\n  trappedEl = el;\n  mainEl = document.querySelector('main, [role=\"main\"]');\n  if (mainEl) {\n    mainEl.setAttribute(\"role\", \"presentation\");\n  }\n  const ancestors = util.getAncestors(trappedEl);\n  let siblings = util.getSiblings(trappedEl);\n  let siblingsOfAncestors = util.getSiblingsOfAncestors(trappedEl);\n  if (options.useHiddenProperty === true) {\n    siblings = siblings.filter(filterSvg);\n    siblingsOfAncestors = siblingsOfAncestors.filter(filterSvg);\n  }\n  dirtyObjects = [showElementPrep(trappedEl, options.useHiddenProperty)].concat(ancestors.map((item) => showElementPrep(item, options.useHiddenProperty))).concat(siblings.map((item) => hideElementPrep(item, options.useHiddenProperty))).concat(siblingsOfAncestors.map((item) => hideElementPrep(item, options.useHiddenProperty)));\n  dirtyObjects.forEach((item) => dirtyElement(item));\n  trappedEl.dispatchEvent(new CustomEvent(\"screenreaderTrap\", { bubbles: true }));\n}\nexport {\n  trap,\n  untrap\n};\n","import { resizeUtil } from \"../event-utils\";\nlet previousPosition;\nlet previousStyles;\nlet isPrevented = false;\n\nexport { prevent, restore };\n\n/**\n * Prevents the `<body>` element from scrolling.\n *\n * This is done by forcing the body to be `fixed` and setting it's height/width inline.\n * The body is then translated the reverse of the scroll position using negative margins.\n *\n * This approach was chosen over the more common just `overflow:hidden` to address some\n * issues with iOS and Android browsers.\n *\n * Finally the scroll position is also stored so that it can be reapplied after restoring\n * scrolling.\n */\nfunction prevent() {\n    if (!isPrevented) {\n        const { body } = document;\n        const { pageXOffset, pageYOffset } = window;\n        const { width, height, marginTop, marginLeft } = getComputedStyle(body);\n        let styleText = \"position:fixed;overflow:hidden;\";\n        previousPosition = [pageXOffset, pageYOffset];\n        previousStyles = body.getAttribute(\"style\");\n        styleText += `height:${height};`;\n        styleText += `width:${width};`;\n\n        if (pageYOffset) {\n            styleText += `margin-top:${\n                -1 * (pageYOffset - parseInt(marginTop, 10))\n            }px;`;\n        }\n\n        if (pageXOffset) {\n            styleText += `margin-left:${\n                -1 * (pageXOffset - parseInt(marginLeft, 10))\n            }px`;\n        }\n\n        if (previousStyles) {\n            styleText = `${previousStyles};${styleText}`;\n        }\n\n        body.setAttribute(\"style\", styleText);\n        resizeUtil.addEventListener(\"\", recalculate);\n        isPrevented = true;\n    }\n}\n\n/**\n * Restores scrolling of the `<body>` element.\n *\n * This will also restore the scroll position, and inline body styles from before the body\n * scroll was prevented. You should not call this function without first preventing the\n * body scroll.\n */\nfunction restore() {\n    if (isPrevented) {\n        const { body } = document;\n        if (previousStyles) {\n            body.setAttribute(\"style\", previousStyles);\n        } else {\n            body.removeAttribute(\"style\");\n        }\n\n        window.scrollTo(...previousPosition);\n        resizeUtil.removeEventListener(\"\", recalculate);\n        isPrevented = false;\n    }\n}\n\n/**\n * Called during \"resize\" events to recalculate generated body widths and margins.\n */\nfunction recalculate() {\n    restore();\n    prevent();\n}\n","const TRANSITION_END = \"transitionend\";\n/**\n * Applies a primer `-init` class before starting a transition\n * to make transitioning properties that are not animatable easier.\n *\n * **Order**\n * 1. Add class: \"$className-init\"\n * 2. Wait one frame.\n * 3. Remove class \"$className-init\".\n * 4. Add class \"$className\".\n * 5. Wait for animation to finish.\n * 6. Remove class \"$className\".\n *\n * @param {HTMLElement} options.el The root element that contains the animation.\n * @param {string} options.className The base className to use for the transition.\n * @param {Element[]} options.waitFor Elements that will transition and should be waited for.\n * @param {Function} cb A callback called after the transition as ended.\n */\nexport default ({ el, className, waitFor }, cb) => {\n    let ended;\n    let ran = 0;\n    const pending = waitFor ? waitFor.length : 0;\n    const classList = el.classList;\n    const initClass = `${className}-init`;\n\n    if (!(\"ontransitionend\" in el)) {\n        const id = setTimeout(cb, 0);\n        return () => clearTimeout(id);\n    }\n\n    let cancelFrame = nextFrame(() => {\n        cancelFrame = undefined;\n        classList.add(className);\n        classList.remove(initClass);\n\n        if (pending) {\n            waitFor.forEach((child) =>\n                child.addEventListener(TRANSITION_END, listener)\n            );\n        } else {\n            cancel();\n\n            if (cb) {\n                cb();\n            }\n        }\n    });\n\n    classList.add(initClass);\n\n    return cancel;\n\n    /**\n     * Cancels the current transition and resets the className.\n     */\n    function cancel() {\n        if (ended) {\n            return;\n        }\n\n        ended = true;\n\n        for (let i = ran; i < pending; i++) {\n            const child = waitFor[i];\n            child.removeEventListener(TRANSITION_END, listener);\n        }\n\n        if (cancelFrame) {\n            cancelFrame();\n            classList.remove(initClass);\n        } else {\n            classList.remove(className);\n        }\n    }\n\n    /**\n     * Handles a single transition end event.\n     * Once all child transitions have ended the overall animation is completed.\n     */\n    function listener({ target }) {\n        target.removeEventListener(TRANSITION_END, listener);\n\n        if (++ran === pending) {\n            ended = true;\n            classList.remove(className);\n\n            if (cb) {\n                cb();\n            }\n        }\n    }\n};\n\n/**\n * Runs a function during the next animation frame.\n *\n * @param {function} fn a function to run on the next animation frame.\n * @return {function} a function to cancel the callback.\n */\nfunction nextFrame(fn) {\n    let frame;\n    let cancelFrame;\n\n    if (window.requestAnimationFrame) {\n        frame = requestAnimationFrame(() => {\n            frame = requestAnimationFrame(fn);\n        });\n        cancelFrame = cancelAnimationFrame;\n    } else {\n        frame = setTimeout(fn, 26); // 16ms to simulate RAF, 10ms to ensure called after the frame.\n        cancelFrame = clearTimeout;\n    }\n\n    return () => {\n        if (frame) {\n            cancelFrame(frame);\n            frame = undefined;\n        }\n    };\n}\n","import * as keyboardTrap from \"makeup-keyboard-trap\";\nimport * as screenReaderTrap from \"makeup-screenreader-trap\";\nimport * as bodyScroll from \"../../../common/body-scroll\";\nimport * as eventUtils from \"../../../common/event-utils\";\nimport transition from \"../../../common/transition\";\n\nexport default {\n    get useHiddenProperty() {\n        return this.input.useHiddenProperty || false;\n    },\n\n    trackLastClick(e) {\n        if (\n            e.defaultPrevented ||\n            e.metaKey ||\n            e.ctrlKey ||\n            e.shiftKey ||\n            e.button !== 0\n        ) {\n            return;\n        }\n\n        let el = e.target;\n        // Find an <button> element that may have been clicked.\n        while (el !== null && el.nodeName !== \"BUTTON\") {\n            el = el.parentNode;\n        }\n        // Store the button that was clicked.\n        this.clickTarget = el;\n    },\n\n    getActiveElement(input) {\n        let closeFocusEl;\n        if (input && input.closeFocus) {\n            closeFocusEl = document.getElementById(input.closeFocus);\n        }\n        const el =\n            document.activeElement === document.body\n                ? this.clickTarget\n                : document.activeElement;\n        return closeFocusEl || el;\n    },\n\n    handleStartClick({ target }) {\n        this.startEl = target;\n    },\n\n    handleScroll() {\n        this.emit(\"scroll\");\n    },\n\n    handleKeydown(event) {\n        eventUtils.handleEscapeKeydown(event, () => {\n            this.state.open = false;\n        });\n    },\n\n    handleDialogClick({ target, clientY }) {\n        const { closeEl, windowEl, startEl } = this;\n\n        this.startEl = null;\n\n        if (this.input.buttonPosition === \"hidden\") {\n            return;\n        }\n\n        if (windowEl.contains(startEl)) {\n            // Started on dialog window and user dragged out, don't close\n            return;\n        }\n\n        // Checks if we clicked inside the white panel of the dialog.\n        if (!closeEl.contains(target) && windowEl.contains(target)) {\n            const { bottom } = windowEl.getBoundingClientRect();\n            const { paddingBottom } = getComputedStyle(windowEl);\n            const windowBottom = bottom - parseInt(paddingBottom, 10);\n            if (clientY < windowBottom) {\n                return;\n            }\n        }\n\n        this.state.open = false;\n    },\n\n    handleCloseButtonClick() {\n        this.state.open = false;\n    },\n\n    onInput(input) {\n        input.isModal = input.isModal !== false;\n        if (!this.isAnimating) {\n            this.state = { open: input.open || false };\n        }\n    },\n\n    onRender() {\n        if (typeof window !== \"undefined\") {\n            this._release();\n        }\n    },\n\n    onMount() {\n        this.rootEl = this.getEl();\n        this.windowEl = this.getEl(\"window\");\n        this.closeEl = this.getEl(\"close\");\n        this.bodyEl = this.getEl(\"body\");\n        if (this.input.transitionEl === \"root\") {\n            this.transitionEls = [this.rootEl];\n        } else if (this.input.transitionEl === \"window\") {\n            this.transitionEls = [this.windowEl];\n        } else {\n            this.transitionEls = [this.windowEl, this.rootEl];\n        }\n        // Add an event listener to the dialog to fix an issue with Safari not recognizing it as a touch target.\n        this.subscribeTo(this.rootEl).on(\"click\", () => {});\n\n        this._trap({\n            firstRender: true,\n        });\n    },\n\n    onUpdate() {\n        this._trap({\n            firstRender: false,\n        });\n    },\n\n    _triggerFocus(focusEl) {\n        if (this.input.isModal && focusEl) {\n            focusEl.focus();\n        }\n    },\n\n    _triggerBodyScroll(prevent) {\n        if (this.input.isModal) {\n            if (prevent) {\n                bodyScroll.prevent();\n            } else {\n                bodyScroll.restore();\n            }\n        }\n    },\n\n    onDestroy() {\n        this._cancelAsync();\n        this._release();\n\n        if (this.isTrapped) {\n            this._triggerBodyScroll(false);\n        }\n    },\n\n    _getTrapCallback(restoreTrap, isTrapped, wasTrapped) {\n        const willTrap =\n            this.input.isModal && (restoreTrap || (isTrapped && !wasTrapped));\n        const useHiddenProperty = this.useHiddenProperty;\n\n        return () => {\n            if (willTrap) {\n                screenReaderTrap.trap(this.el, { useHiddenProperty });\n                if (!useHiddenProperty) {\n                    keyboardTrap.trap(this.windowEl);\n                }\n            }\n        };\n    },\n\n    /**\n     * Ensures that if a component is supposed to be trapped that this is\n     * trapped after rendering.\n     */\n    _trap(opts) {\n        const { isTrapped: wasTrapped, restoreTrap } = this;\n        const isTrapped = (this.isTrapped = this.state.open);\n        const isFirstRender = opts && opts.firstRender;\n        const wasToggled = isTrapped !== wasTrapped;\n        const focusEl =\n            (this.input.focus && document.getElementById(this.input.focus)) ||\n            this.closeEl;\n        const runTraps = this._getTrapCallback(\n            restoreTrap,\n            isTrapped,\n            wasTrapped\n        );\n\n        // Ensure focus is set and body scroll prevented on initial render.\n        if (isFirstRender && this.input.isModal && isTrapped) {\n            this._prevFocusEl = this.getActiveElement(this.input);\n            this._triggerFocus(focusEl);\n            this._triggerBodyScroll(true);\n        }\n        if (wasToggled) {\n            this._cancelAsync();\n            const onFinishTransition = () => {\n                this.cancelTransition = undefined;\n                runTraps();\n\n                if (isTrapped) {\n                    this.rootEl.removeAttribute(\"hidden\");\n                    this._triggerFocus(focusEl);\n                    this.emit(\"open\");\n                    this.isAnimating = false;\n                } else {\n                    this._triggerBodyScroll(false);\n                    const activeElement = this.getActiveElement();\n                    this.rootEl.setAttribute(\"hidden\", \"\");\n                    this.emit(\"close\");\n                    this.isAnimating = false;\n\n                    if (\n                        // Skip restoring focus if the focused element was changed via the dialog-close event\n                        activeElement === this.getActiveElement() &&\n                        // Skip restoring focus if the previously focused element was removed from the DOM.\n                        document.documentElement.contains(this._prevFocusEl)\n                    ) {\n                        this._prevFocusEl.focus();\n                    }\n\n                    // Reset dialog scroll position lazily to avoid jank.\n                    // Note since the dialog is not in the dom at this point none of the scroll methods will work.\n                    this.cancelScrollReset = setTimeout(() => {\n                        this.rootEl.parentNode.replaceChild(\n                            this.rootEl,\n                            this.rootEl\n                        );\n                        this.cancelScrollReset = undefined;\n                    }, 20);\n                }\n            };\n\n            if (isTrapped) {\n                if (!isFirstRender) {\n                    this._prevFocusEl = this.getActiveElement(this.input);\n                    this._triggerBodyScroll(true);\n                    this.isAnimating = true;\n                    this.cancelTransition = transition(\n                        {\n                            el: this.rootEl,\n                            className: `${this.input.classPrefix}--show`,\n                            waitFor: this.transitionEls,\n                        },\n                        onFinishTransition\n                    );\n                } else {\n                    this.isAnimating = false;\n                    this.rootEl.removeAttribute(\"hidden\");\n                    runTraps();\n                }\n            } else {\n                if (!isFirstRender) {\n                    this.isAnimating = true;\n                    this.cancelTransition = transition(\n                        {\n                            el: this.rootEl,\n                            className: `${this.input.classPrefix}--hide`,\n                            waitFor: this.transitionEls,\n                        },\n                        onFinishTransition\n                    );\n                } else {\n                    this.isAnimating = false;\n                    this.rootEl.setAttribute(\"hidden\", \"\");\n                }\n            }\n        } else if (restoreTrap) {\n            // In the case where the page rerendered, attach all traps again\n            runTraps();\n        }\n    },\n\n    /**\n     * Releases the trap before each render and on destroy so\n     * that Marko can update normally without the inserted dom nodes.\n     * Only releases on isModal dialogs\n     */\n    _release() {\n        if (this.isTrapped && this.input.isModal) {\n            this.restoreTrap = this.state.open;\n            screenReaderTrap.untrap(this.el);\n            if (!this.useHiddenProperty) {\n                keyboardTrap.untrap(this.windowEl);\n            }\n        } else {\n            this.restoreTrap = false;\n        }\n    },\n\n    _cancelAsync() {\n        if (this.cancelScrollReset) {\n            clearTimeout(this.cancelScrollReset);\n            this.cancelScrollReset = undefined;\n        }\n\n        if (this.cancelTransition) {\n            this.cancelTransition();\n            this.cancelTransition = undefined;\n        }\n    },\n};\n","import { processHtmlAttributes } from \"../../../common/html-attributes\";\nstatic const isBrowser = typeof window !== \"undefined\";\nstatic var ignoredAttributes = [\n    \"open\",\n    \"type\",\n    \"classPrefix\",\n    \"focus\",\n    \"closeFocus\",\n    \"a11yCloseText\",\n    \"windowClass\",\n    \"baseEl\",\n    \"header\",\n    \"footer\",\n    \"transitionEl\",\n    \"isModal\",\n    \"closeButton\",\n    \"closeButtonClass\",\n    \"closeButtonText\",\n    \"ignoreEscape\",\n    \"slideFrom\",\n    \"windowType\",\n    \"mainId\",\n    \"ariaLabelledby\",\n    \"buttonPosition\",\n    \"useHiddenProperty\",\n    \"position\",\n    \"variant\",\n    \"confirmText\",\n    \"rejectText\",\n    \"noHandle\",\n    \"top\",\n    \"action\",\n];\nstatic var ignoredHeaderAttributes = [\"id\", \"as\", \"class\"];\nstatic var ignoredPrevButtonAttributes = [\"id\", \"class\", \"a11yText\"];\n$ var buttonPosition = input.buttonPosition || \"right\";\n$ var baseEl = input.baseEl || \"div\";\n$ var header = input.header;\n<macro name=\"header-content\">\n    <${header.as || \"h2\"}\n        class=[header.class, `${input.classPrefix}__title`]\n        ...processHtmlAttributes(header, ignoredHeaderAttributes)\n        id=header.id || component.getElId(\"dialog-title\")\n    >\n        <${header.renderBody}/>\n    </>\n</macro>\n<macro name=\"button-content\">\n    <if(buttonPosition !== \"hidden\")>\n        <button\n            key=\"close\"\n            class=[\n                input.closeButtonText ? \"fake-link\" : \"icon-btn\",\n                input.closeButtonClass,\n                `${input.classPrefix}__close`,\n            ]\n            type=\"button\"\n            aria-label=input.a11yCloseText\n            onClick(\"handleCloseButtonClick\")\n        >\n            <if(input.closeButtonText)>\n                ${input.closeButtonText}\n            </if>\n            <else-if(input.closeButton)>\n                <${input.closeButton}/>\n            </else-if>\n            <else>\n                <ebay-close-16-icon/>\n            </else>\n        </button>\n    </if>\n</macro>\n<${baseEl}\n    ...processHtmlAttributes(input, ignoredAttributes)\n    aria-labelledby=input.ariaLabelledby ||\n    (input.header && component.getElId(\"dialog-title\"))\n    aria-modal=\"true\"\n    role=input.role || \"dialog\"\n    class=[input.classPrefix, input.class]\n    hidden:no-update=!state.open\n    aria-live=!input.isModal && \"polite\"\n    onClick(\"handleDialogClick\")\n    onMousedown(\"handleStartClick\")\n>\n    <if(state.open && isBrowser && !input.ignoreEscape)>\n        <subscribe to=document on-keydown(\"handleKeydown\")/>\n    </if>\n    <if(!state.open && isBrowser)>\n        <subscribe to=window on-click(\"trackLastClick\")/>\n    </if>\n    <div\n        key=\"window\"\n        onMouseEnter(\"emit\", \"mouseEnter\")\n        onMouseLeave(\"emit\", \"mouseLeave\")\n        class=[\n            input.windowType\n                ? `${input.classPrefix}__${input.windowType}-window`\n                : `${input.classPrefix}__window`,\n            input.windowClass,\n        ]\n    >\n        <if(input.top)>\n            <${input.top.renderBody}/>\n        </if>\n        <div class=`${input.classPrefix}__header`>\n            <if(input.prevButton)>\n                <button\n                    ...processHtmlAttributes(\n                        input.prevButton,\n                        ignoredPrevButtonAttributes\n                    )\n                    class=[\n                        \"icon-btn\",\n                        \"lightbox-dialog__prev\",\n                        input.prevButton.class,\n                    ]\n                    type=\"button\"\n                    aria-label=input.prevButton.a11yText\n                    on-click(\"emit\", \"prevButtonClick\")\n                >\n                    <${input.prevButton}/>\n                </button>\n            </if>\n            <if(header && buttonPosition === \"right\")>\n                <header-content/>\n            </if>\n            <if(buttonPosition !== \"bottom\")>\n                <button-content/>\n            </if>\n            <if(\n                header &&\n                (buttonPosition === \"left\" || buttonPosition === \"hidden\")\n            )>\n                <header-content/>\n            </if>\n        </div>\n        <div\n            id=input.mainId\n            class=`${input.classPrefix}__main`\n            key=\"body\"\n            onScroll(\"handleScroll\")\n        >\n            <${input.renderBody}/>\n        </div>\n        <if(input.action)>\n            <span class=`${input.classPrefix}__actions`>\n                <${input.action && input.action.renderBody}/>\n            </span>\n        </if>\n        <if(input.footer || buttonPosition === \"bottom\")>\n            <div class=`${input.classPrefix}__footer`>\n                <${input.footer && input.footer.renderBody}/>\n                <if(buttonPosition === \"bottom\")>\n                    <button-content/>\n                </if>\n            </div>\n        </if>\n    </div>\n</>\n"],"names":["trappedEl","topTrap","outerTrapBefore","innerTrapBefore","innerTrapAfter","outerTrapAfter","botTrap","firstFocusableElement","lastFocusableElement","createTrapBoundary","trapBoundary","setFocusToFirstFocusableElement","setFocusToLastFocusableElement","createTraps","untrap","safeDetach","el","parent","trap","body","focusableElements","focusables","filterAncestor","item","filterSibling","flattenArrays","a","b","getPreviousSiblings","siblings","previousSibling","getNextSiblings","nextSibling","getSiblings","getAllAncestors","ancestors","nextAncestor","getAncestors","getSiblingsOfAncestors","mainEl","dirtyObjects","filterSvg","showElementPrep","useHiddenProperty","preparedElement","prepareElement","hideElementPrep","attributeName","dirtyValue","isProperty","dirtyElement","preparedObj","cleanElement","defaultOptions","selectedOptions","options","util.getAncestors","util.getSiblings","siblingsOfAncestors","util.getSiblingsOfAncestors","previousPosition","previousStyles","isPrevented","prevent","pageXOffset","pageYOffset","width","height","marginTop","marginLeft","styleText","resizeUtil","recalculate","restore","TRANSITION_END","transition","className","waitFor","cb","ended","ran","pending","classList","initClass","id","cancelFrame","nextFrame","child","listener","cancel","i","target","fn","frame","_marko_component","input","closeFocusEl","event","eventUtils.handleEscapeKeydown","clientY","closeEl","windowEl","startEl","bottom","paddingBottom","windowBottom","focusEl","bodyScroll.prevent","bodyScroll.restore","restoreTrap","isTrapped","wasTrapped","willTrap","screenReaderTrap.trap","keyboardTrap.trap","opts","isFirstRender","wasToggled","runTraps","onFinishTransition","activeElement","screenReaderTrap.untrap","keyboardTrap.untrap","isBrowser","window","ignoredAttributes","ignoredHeaderAttributes","ignoredPrevButtonAttributes","_marko_registerComponent","_marko_componentType","_marko_template","_marko_component2","_","_marko_renderer","out","_componentDef","_component","state","$global","buttonPosition","baseEl","header","_headerContent","_marko_dynamic_tag","as","_objectSpread","class","concat","classPrefix","processHtmlAttributes","getElId","renderBody","_buttonContent","be","_marko_class_merge","closeButtonText","closeButtonClass","a11yCloseText","d","t","closeButton","_marko_tag","_ebayClose16Icon","ee","ariaLabelledby","role","open","isModal","ignoreEscape","_subscribe","document","windowType","windowClass","top","prevButton","_marko_merge_attrs","a11yText","mainId","action","footer","pa","Component","_marko_defineComponent"],"mappings":"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","x_google_ignoreList":[0,1,2]}
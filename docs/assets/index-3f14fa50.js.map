{"version":3,"file":"index-3f14fa50.js","sources":["../../src/components/ebay-icon/component-browser.js","../../src/components/ebay-icon/index.marko"],"sourcesContent":["let rootSvg;\nlet svgDefs;\n\nfunction createSVGElementFromString(data) {\n    // This is needed because if we add linear gradient as a string it will not be rendered.\n    if (!data.name) {\n        return;\n    }\n    const linearGradient = document.createElementNS(\n        \"http://www.w3.org/2000/svg\",\n        data.name\n    );\n    for (const attr of Object.keys(data.attr)) {\n        linearGradient.setAttribute(attr, data.attr[attr]);\n    }\n    data.children.forEach((stop) => {\n        const newStop = document.createElementNS(\n            \"http://www.w3.org/2000/svg\",\n            stop.name\n        );\n        for (const attr of Object.keys(stop.attr)) {\n            newStop.setAttribute(attr, stop.attr[attr]);\n        }\n\n        linearGradient.appendChild(newStop);\n    });\n    return linearGradient;\n}\n\nexport default {\n    onMount() {\n        // Create a hidden svg to store all symbols on startup.\n        if (!rootSvg) {\n            rootSvg = document.createElementNS(\n                \"http://www.w3.org/2000/svg\",\n                \"svg\"\n            );\n            // Apply \"hidden styles\" to the svg. We don't use display none because then the svg will not be rendered.\n            rootSvg.style.position = \"absolute\";\n            rootSvg.style.width = \"0\";\n            rootSvg.style.height = \"0\";\n\n            document.body.insertBefore(rootSvg, document.body.firstChild);\n            svgDefs = document.createElementNS(\n                \"http://www.w3.org/2000/svg\",\n                \"defs\"\n            );\n            rootSvg.appendChild(svgDefs);\n        }\n\n        // If there were any symbols rendered then we move them to the svg above after rendering them.\n        const defs = this.getEl(\"defs\");\n\n        if (defs) {\n            let defItem;\n            if (this.input && this.input._themes) {\n                defs.innerHTML = this.input._themes();\n            }\n            if (this.input && this.input._def) {\n                defItem = createSVGElementFromString(this.input._def());\n            }\n\n            const symbol = defs.querySelector(\"symbol\");\n            defs.parentNode.removeChild(defs);\n            if (symbol) {\n                rootSvg.appendChild(symbol);\n                // Only add defs if there are any and if symbol was added\n                if (defItem) {\n                    svgDefs.appendChild(defItem);\n                }\n            }\n        }\n    },\n};\n","import { processHtmlAttributes } from \"../../common/html-attributes\"\n\nstatic function noop() {}\n\nstatic var isBrowser = typeof window !== \"undefined\";\n\nstatic var browserLookup = {};\n\nstatic var ignoredAttributes = [\"_name\", \"_type\", \"noSkinClasses\", \"_themes\", \"_def\", \"toJSON\"];\n\nstatic function getIconClass(type, name) {\n    if (type === \"icon\") {\n        return `icon icon--${name}`;\n    } else {\n        var dashedName = name.replace(type, `${type}-`);\n        return `${type} ${dashedName}`\n    }\n\n}\n\n$ var noTitle = input.a11yVariant === \"label\";\n$ input.toJSON = noop;\n$ var lookup = isBrowser ? browserLookup : out.global;\n$ {\n    var a11yAttributes = input.a11yText\n        ? { role: \"img\" }\n        : { \"aria-hidden\": \"true\" };\n    var prefixSvg = input._type === \"icon\" ? \"icon-\" : \"\";\n}\n<svg\n    ...a11yAttributes\n    ...processHtmlAttributes(input, ignoredAttributes)\n    class=[input.class, !input.noSkinClasses && getIconClass(input._type, input._name)]\n    key=\"svg\"\n    focusable=\"false\"\n    aria-labelledby=(input.a11yText && !noTitle && component.elId(\"text\"))\n    aria-label=(noTitle && input.a11yText)>\n    <!-- Here we check if we should render the inline svg symbol. -->\n    <!-- Server side we store a flag in `out.global` to check if the symbol was rendered. -->\n    <!-- Client side we check the `browserLookup` object to see if the symbol is already present in root svg. -->\n    $ var themes = input._themes;\n    $ var defs = input._def;\n    $ var lookupName = \"rendered_ebay_icon_\" + input._name;\n    $ var renderDefs = !lookup[lookupName];\n    $ lookup[lookupName] = true;\n    <if(renderDefs && themes)>\n        <defs key=\"defs\">\n            <if(!isBrowser)>\n                $ var lassoContext = out.global[\"lasso/LassoRenderContext\"];\n                $ {\n                    var flags =\n                                        lassoContext &&\n                                        lassoContext.data &&\n                                        lassoContext.data.config &&\n                                        lassoContext.data.config.flags;\n                }\n                $!{themes()}\n            </if>\n        </defs>\n    </if>\n    <if(input.a11yText && !noTitle)>\n        <title id:scoped=\"text\">${input.a11yText}</title>\n    </if>\n    <use href=`#${prefixSvg}${input._name}`/>\n</svg>\n"],"names":["rootSvg","svgDefs","createSVGElementFromString","data","linearGradient","attr","stop","newStop","_marko_split_component","defs","defItem","symbol","noop","isBrowser","window","browserLookup","ignoredAttributes","getIconClass","type","name","concat","dashedName","replace","_marko_registerComponent","_marko_componentType","_marko_component","_marko_template","_","_marko_renderer","input","out","_componentDef","_component","state","$global","noTitle","a11yVariant","toJSON","lookup","global","a11yAttributes","a11yText","role","prefixSvg","_type","be","_marko_merge_attrs","processHtmlAttributes","_marko_class_merge","class","noSkinClasses","_name","elId","themes","_themes","_def","lookupName","renderDefs","lassoContext","config","flags","h","ee","t","e","s","Component","_marko_defineComponent"],"mappings":"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"}
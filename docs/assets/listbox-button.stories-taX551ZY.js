import{t as Y}from"./index-iqhZMf16.js";import{b as Z,a as ee}from"./utils-NX-dnf4r.js";import{t as $,r as N,b as W,f as te,p as oe,g as h,d as F}from"./registry-EgEQwbXk.js";import{_ as ne}from"./index-oRGh3q8t.js";import{_ as f}from"./render-tag-_0PNNh6Y.js";import{_ as a}from"./self-iterator-6yU_KG2T.js";import{C as ae}from"./index-teYmMqPr.js";import{s as se}from"./index-l3FQEXUN.js";import{a as ie}from"./index-sDZ0BqWo.js";import"./_commonjsHelpers-5-cIlDoe.js";import"./_commonjs-dynamic-modules-h-SxKiO4.js";import"./index-eucXA0ea.js";/* empty css             */import"./dynamic-tag-7vXwaVzE.js";import"./index-HaLoY7FK.js";import"./preserve-attrs-lolIpBRv.js";import"./index-QozpcpzM.js";import"./index-J8CKH9U9.js";import"./index-QGVtTfuc.js";import"./index--8xUDD5P.js";import"./index-ERL0bCNR.js";const le=`<h1 style='display: flex; justify-content: space-between; align-items: center;'>
    <span>
        ebay-listbox-button
    </span>
    <span style='font-weight: normal; font-size: medium; margin-bottom: -15px;'>
        DS v1.1.0
    </span>
</h1>

## Examples and Documentation

-   [Storybook](https://ebay.github.io/ebayui-core/?path=/story/buttons-ebay-listbox-button)
-   [Storybook Docs](https://ebay.github.io/ebayui-core/?path=/docs/buttons-ebay-listbox-button)
-   [Code Examples](https://github.com/eBay/ebayui-core/tree/master/src/components/ebay-listbox-button/examples)
`;class re extends Marko.Component{handleExpand(){this.getComponent("options").elementScroll(),this.emit("expand")}handleCollapse(){this.getEl("button").focus(),this.emit("collapse")}handleListboxChange(e){this.input.collapseOnSelect&&(this._expander.expanded=!1);const o=e.index;this.state.selectedIndex=o,this.emit("change",e)}handleListboxEscape(){this._expander.expanded=!1}onCreate(){this.state={selectedIndex:-1}}onInput(e){const{state:o}=this;e.options=e.options||[],o.selectedIndex=Math.max(-1,e.options.findIndex(t=>t.selected)),e.collapseOnSelect=e.collapseOnSelect!==!1}onMount(){this._setupMakeup()}onUpdate(){this._setupMakeup()}onRender(){typeof window<"u"&&this._cleanupMakeup()}onDestroy(){this._cleanupMakeup()}_setupMakeup(){const{input:e}=this;if(e.options.length&&!e.disabled){const o=this.getEl("container");this._expander=new se(o,{autoCollapse:!0,expandOnClick:!0,simulateSpacebarClick:!0,contentSelector:".listbox-button__listbox",hostSelector:".listbox-button__control",expandedClass:"listbox-button--expanded",focusManagement:"content"}),ie(this.getEl("button"))}}_cleanupMakeup(){this._expander&&(this._expander.destroy(),this._expander=void 0)}}const y="M/qwFgIl",r=$(y),R=r;N.r(y,()=>r);const V=re;r._=W(function(i,e,o,t,_,j){const{name:l,class:n,borderless:z,disabled:A,fluid:C,invalid:H,buttonName:K,options:v,truncate:w,prefixLabel:S,prefixId:k,unselectedText:U="-",floatingLabel:b,collapseOnSelect:ce,listSelection:G,variant:J,...P}=i;var m=v[_.selectedIndex],d=m&&m.text,u=k&&t.getElId("label"),x=d||U,Q=J==="form";const X=w&&!C?"div":"span";e.be(X,te(oe(P),{class:h(["listbox-button",n,C&&"listbox-button--fluid",Q&&"listbox-button--form"])}),"@container",t,null,4,{"onexpander-expand":o.d("expander-expand","handleExpand",!1),"onexpander-collapse":o.d("expander-collapse","handleCollapse",!1)});{e.be("button",{class:h(["listbox-button__control","btn","btn--form",z&&"btn--borderless",w&&"btn--truncated",b&&"btn--floating-label"]),value:d,type:"button",disabled:A,name:K,"aria-haspopup":"listbox","aria-labelledby":u&&`${k} ${u}`,"aria-invalid":H&&"true"},"@button",t,null,0),e.be("span",{class:"btn__cell"},"0",t,null,1),b?(e.be("span",{class:h(["btn__floating-label","btn__floating-label--animate",!d&&"btn__floating-label--inline"])},"1",t,null,1),e.t(b,t),e.ee(),d&&(e.be("span",{class:"btn__text"},"2",t,null,1),e.t(x,t),e.ee())):S?(e.be("span",{class:"btn__label"},"3",t,null,1),e.t(S,t),e.t(" ",t),e.ee(),e.be("span",{class:"btn__text"},"4",t,null,1),e.t(x,t),e.ee()):(e.be("span",{id:u,class:"btn__text"},"5",t,null,1),e.t(x,t),e.ee()),f(ne,{},e,o,"6"),e.ee(),e.ee();const O=[];for(const T of v||[])O.push({...T,selected:m===T,[Symbol.iterator]:a});f(ae,{class:"listbox-button__listbox",name:l,tabindex:-1,listSelection:G,options:O},e,o,"@options",[["change","handleListboxChange",!1],["escape","handleListboxEscape",!1]])}e.ee()},{t:y},V);r.Component=F(V,r._);const g="aKW7S0cT",p=$(g);N.r(g,()=>p);const q={};p._=W(function(i,e,o,t,_,j){const l=[];l.push({selected:!0,value:"1",text:"Option 1",description:{renderBody:n=>{n.t("Option 1 info",t)},[Symbol.iterator]:a},[Symbol.iterator]:a}),l.push({value:"2",text:"Option 2",description:{renderBody:n=>{n.t("Option 2 info",t)},[Symbol.iterator]:a},[Symbol.iterator]:a}),l.push({value:"3",text:"Option 3",description:{renderBody:n=>{n.t("Option 3 info",t)},[Symbol.iterator]:a},[Symbol.iterator]:a}),f(R,{prefixLabel:"Select",name:"formFieldName",...i,options:l},e,o,"0",[["change","emit",!1,["change"]],["collapse","emit",!1,["collapse"]],["expand","emit",!1,["expand"]]])},{t:g,i:!0},q);p.Component=F(q,p._);const pe=`<ebay-listbox-button
    prefix-label="Select"
    name="formFieldName"
    onChange("emit", "change")
    onCollapse("emit", "collapse")
    onExpand("emit", "expand")
    ...input
>
    <@option selected value="1" text="Option 1">
        <@description>Option 1 info</@description>
    </@option>
    <@option value="2" text="Option 2">
        <@description>Option 2 info</@description>
    </@option>
    <@option value="3" text="Option 3">
        <@description>Option 3 info</@description>
    </@option>
</ebay-listbox-button>
`,de=i=>({input:ee(i)}),Be={title:"buttons/ebay-listbox-button",component:R,parameters:{docs:{description:{component:le}}},argTypes:{selected:{description:"allows you to set the selected index option to `selected`"},borderless:{type:"boolean",control:{type:"boolean"},description:"whether button has borders "},fluid:{type:"boolean",control:{type:"boolean"},description:"whether listbox width is 100% "},buttonName:{control:{type:"text"},description:"used for the `name` attribute of the native `<button>` "},truncate:{type:"boolean",control:{type:"boolean"},description:"will truncate the text of the button onto a single line, and adds an ellipsis, when the buttons text overflows"},collapseOnSelect:{type:"boolean",control:{type:"boolean"},description:"When an option is selected, the dropdown menu collapses into the button"},listSelection:{table:{defaultValue:{summary:"manual"}},description:"If manual then user will need to press enter to select an item using keyboard. Otherwise auto will automatically select as the user presses up/down",options:["manual","auto"],type:"select"},prefixId:{control:{type:"text"},description:"id of an external element to use as the prefix label for the listbox button. Cannot be used with `prefix-label`"},floatingLabel:{control:{type:"text"},description:"The label to add that floats to the top when item is selected. Cannot be used with `prefix-label`"},unselectedText:{control:{type:"text"},description:'The text to be shown when no options are selected. Default is "-". Cannot be used with `floating-label`'},prefixLabel:{control:{type:"text"},description:"The label to add before each selected item on the button. Cannot be used with `prefix-id`"},option:{name:"@option",table:{category:"@attribute tags"}},text:{table:{control:{type:"text"},category:"@option attributes"}},value:{table:{control:{type:"value"},category:"@option attributes"}},variant:{description:"If `form`, changes appearance to match other form-specific dropdown-esque components for visual consistency.",options:["standard","form"],type:"select"},onChange:{action:"on-change",description:"Triggered on item clicked",table:{category:"Events",defaultValue:{summary:"{ el, index, selected, wasClicked }"}}},onCollapse:{action:"on-collapse",description:"Triggered on menu collapse",table:{category:"Events",defaultValue:{summary:""}}},onExpand:{action:"on-expand",description:"Triggered on menu expand",table:{category:"Events",defaultValue:{summary:""}}}}},s=de.bind({});s.args={prefixLabel:"Selected:",options:[{value:"1",text:"Option 1"},{value:"2",text:"Option 2"},{value:"3",text:"Option 3"}]};s.parameters={docs:{source:{code:Y("ebay-listbox-button",s.args,{items:"item"})}}};const c=Z(p,pe);var E,I,L;s.parameters={...s.parameters,docs:{...(E=s.parameters)==null?void 0:E.docs,source:{originalSource:`args => ({
  input: addRenderBodies(args)
})`,...(L=(I=s.parameters)==null?void 0:I.docs)==null?void 0:L.source}}};var M,D,B;c.parameters={...c.parameters,docs:{...(M=c.parameters)==null?void 0:M.docs,source:{originalSource:"buildExtensionTemplate(WithDescriptionTemplate, WithDescriptionTemplateCode)",...(B=(D=c.parameters)==null?void 0:D.docs)==null?void 0:B.source}}};const $e=["Default","withDescription"];export{s as Default,$e as __namedExportsOrder,Be as default,c as withDescription};

{"version":3,"file":"video.stories-521d3985.js","sources":["../../src/components/ebay-video/README.md","../../src/components/ebay-video/elements.js","../../src/components/ebay-video/component.js","../../src/components/ebay-video/index.marko"],"sourcesContent":["export default \"<h1 style='display: flex; justify-content: space-between; align-items: center;'>\\n    <span>\\n        ebay-video\\n    </span>\\n    <span style='font-weight: normal; font-size: medium; margin-bottom: -15px;'>\\n        DS v1.0.0\\n    </span>\\n</h1>\\n\\n## ebay-video (_ALPHA_, some APIs might change)\\n\\nVideo player. Supports either MPD or M3U8 playlist formats.\\nNatively uses dash.js player under the hood. Loads it async after the video player is loaded on the page.\\nFor resizing, `ebay-video` supports fixed width or variable width. If no width is provided the video tag will resize based on the container size.\\n\\n## Examples and Documentation\\n\\n-   [Storybook](https://ebay.github.io/ebayui-core/?path=/story/media-ebay-video)\\n-   [Storybook Docs](https://ebay.github.io/ebayui-core/?path=/docs/media-ebay-video)\\n-   [Code Examples](https://github.com/eBay/ebayui-core/tree/master/src/components/ebay-video/examples)\\n\"","/* eslint-disable no-undef,new-cap */\n// Have to contain in order to not execute until shaka is downloaded\nfunction getElements(self) {\n    const Report = class extends shaka.ui.Element {\n        constructor(parent, controls, text) {\n            super(parent, controls);\n\n            // The actual button that will be displayed\n            this.button_ = document.createElement(\"button\");\n            this.button_.classList.add(\"video-player__report-button\");\n\n            this.button_.textContent = text || \"Report\";\n            const flagIcon = self.getComponent(\"flag-icon\").el.cloneNode(true);\n            this.button_.prepend(flagIcon);\n            this.parent.appendChild(this.button_);\n\n            this.eventManager.listen(this.button_, \"click\", () => {\n                self.emit(\"report\");\n            });\n        }\n    };\n    Report.Factory = class {\n        constructor(reportText) {\n            this.reportText = reportText;\n        }\n\n        create(rootElement, controls) {\n            return new Report(rootElement, controls, this.reportText);\n        }\n    };\n\n    const TextSelection = shaka.ui.TextSelection;\n\n    TextSelection.Factory = class {\n        /** @override */\n        create(rootElement, controls) {\n            return new shaka.ui.TextSelection(rootElement, controls);\n        }\n    };\n\n    return { Report, TextSelection };\n}\n\nexport { getElements };\n","import { CDNLoader } from \"../../common/cdn\";\nimport { getElements } from \"./elements\";\nconst DEFAULT_SPINNER_TIMEOUT = 2000;\n\nconst eventList = [\n    \"abort\",\n    \"canplay\",\n    \"canplaythrough\",\n    \"durationchange\",\n    \"emptied\",\n    \"encrypted\",\n    \"ended\",\n    \"error\",\n    \"loadstart\",\n    \"progress\",\n    \"ratechange\",\n    \"seeked\",\n    \"seeking\",\n    \"stalled\",\n    \"suspend\",\n    \"timeupdate\",\n    \"waiting\",\n];\n\nconst videoConfig = {\n    addBigPlayButton: false,\n    addSeekBar: true,\n    controlPanelElements: [\n        \"play_pause\",\n        \"time_and_duration\",\n        \"spacer\",\n        \"mute\",\n        \"report\",\n        \"fullscreen\",\n        \"overflow_menu\",\n    ],\n    overflowMenuButtons: [\"captions\"],\n};\n\nexport default {\n    isPlaylist(source) {\n        const type = source.type && source.type.toLowerCase();\n        const src = source.src;\n        if (type === \"dash\" || type === \"hls\") {\n            return true;\n        } else if (source.src) {\n            return (\n                src.indexOf(\".mpd\") === src.length - 5 ||\n                src.indexOf(\".m3u8\") === src.length - 6\n            );\n        }\n        return false;\n    },\n\n    handleResize() {\n        if (!this.input.width && this.video) {\n            const { width: containerWidth } = this.root.getBoundingClientRect();\n            this.containerEl.setAttribute(\"width\", containerWidth);\n        }\n    },\n\n    handlePause(originalEvent) {\n        // On IOS, the controls force showing up if the video exist fullscreen while playing.\n        // This forces the controls to always hide\n        this.video.controls = false;\n\n        this.emit(\"pause\", { originalEvent, player: this.player });\n    },\n\n    handlePlaying(originalEvent) {\n        this.showControls();\n\n        if (this.input.playView === \"fullscreen\") {\n            this.video.requestFullscreen();\n        }\n        this.state.played = true;\n        this.emit(\"play\", { originalEvent, player: this.player });\n    },\n\n    handleVolumeChange(originalEvent) {\n        this.emit(\"volume-change\", {\n            originalEvent,\n            volume: this.video.volume,\n            muted: this.video.muted,\n        });\n    },\n\n    handleError(err) {\n        this.state.failed = true;\n        this.state.isLoaded = true;\n\n        if (this.ui) {\n            this.ui.configure({\n                addBigPlayButton: false,\n            });\n        }\n        this.emit(\"load-error\", err);\n    },\n\n    showControls() {\n        const copyConfig = Object.assign({}, videoConfig);\n        copyConfig.controlPanelElements = [...videoConfig.controlPanelElements];\n        if (this.state.volumeSlider === true) {\n            const insertAt =\n                copyConfig.controlPanelElements.length - 2 > 0\n                    ? copyConfig.controlPanelElements.length - 2\n                    : copyConfig.controlPanelElements.length;\n            copyConfig.controlPanelElements.splice(insertAt, 0, \"volume\");\n        }\n        this.ui.configure(copyConfig);\n        this.video.controls = false;\n    },\n    takeAction() {\n        switch (this.state.action) {\n            case \"play\":\n                this.video.play();\n                break;\n            case \"pause\":\n                this.video.pause();\n                break;\n            default:\n        }\n    },\n\n    onInput(input) {\n        if (this.video) {\n            if (input.width || input.height) {\n                this.containerEl.setAttribute(\"style\", {\n                    width: `${input.width}px`,\n                });\n            }\n            this.video.volume = input.volume;\n            this.video.muted = input.muted;\n        }\n\n        // Check if action is changed\n        if (this.state.action !== input.action) {\n            this.state.action = input.action;\n            this.takeAction();\n        }\n        if (input.volumeSlider === true) {\n            this.state.volumeSlider = input.volumeSlider;\n        }\n    },\n\n    onCreate() {\n        this.state = {\n            volumeSlider: false,\n            action: \"\",\n            showLoading: false,\n            isLoaded: true,\n            failed: false,\n            played: false,\n        };\n\n        this.cdnLoader = new CDNLoader(this, {\n            key: \"shaka\",\n            types: [\"src\", \"css\"],\n            files: [\"shaka-player.ui.js\", \"controls.css\"],\n            setLoading: (value) => {\n                this.state.showLoading = value;\n            },\n            handleError: this.handleError.bind(this),\n            handleSuccess: this.handleSuccess.bind(this),\n        });\n    },\n\n    _addTextTracks() {\n        (this.input.tracks || []).forEach((track) => {\n            this.player.addTextTrack(track.src, track.srclang, track.kind);\n        });\n\n        const [track] = this.player.getTextTracks();\n        if (track) {\n            this.player.selectTextTrack(track.id); // => this finds the id and everythings fine but it does nothing\n        }\n    },\n\n    _loadSrc(index) {\n        const currentIndex = index || 0;\n        const src = this.input.sources[currentIndex];\n        let nextIndex;\n        if (src && this.input.sources.length > currentIndex + 1) {\n            nextIndex = currentIndex + 1;\n        }\n\n        this.player\n            .load(src.src)\n            .then(() => {\n                this._addTextTracks();\n                this.state.isLoaded = true;\n                this.state.failed = false;\n            })\n            .catch((err) => {\n                if (err.code === 7000) {\n                    // Load interrupted by another load, just return\n                    return;\n                } else if (err.code === 11) {\n                    // Retry, player is not loaded yet\n                    setTimeout(() => this._loadSrc(currentIndex), 0);\n                }\n                if (nextIndex) {\n                    setTimeout(() => this._loadSrc(nextIndex), 0);\n                } else {\n                    this.handleError(err);\n                }\n            });\n    },\n\n    _attach() {\n        const { Report, TextSelection } = getElements(this);\n        // eslint-disable-next-line no-undef,new-cap\n        this.ui = new shaka.ui.Overlay(\n            this.player,\n            this.containerEl,\n            this.video,\n            this.input.reportText || \"\"\n        );\n\n        // eslint-disable-next-line no-undef,new-cap\n        shaka.ui.Controls.registerElement(\n            \"report\",\n            new Report.Factory(this.input.reportText)\n        );\n\n        // eslint-disable-next-line no-undef,new-cap\n        shaka.ui.Controls.registerElement(\n            \"captions\",\n            new TextSelection.Factory()\n        );\n\n        this.ui.configure({\n            addBigPlayButton: true,\n            controlPanelElements: [],\n            addSeekBar: false,\n        });\n\n        // Replace play icon\n        if (this.el) {\n            const playIcon = this.getComponent(\"play-icon\").el.cloneNode(true);\n            const playButton = this.el.querySelector(\".shaka-play-button\");\n            playButton.removeAttribute(\"icon\");\n            playButton.appendChild(playIcon);\n\n            const shakaSpinner = this.el.querySelector(\".shaka-spinner\");\n            if (shakaSpinner) {\n                setTimeout(() => {\n                    shakaSpinner.hidden = true;\n                }, this.input.spinnerTimeout || DEFAULT_SPINNER_TIMEOUT);\n            }\n        }\n    },\n\n    handleSuccess() {\n        // eslint-disable-next-line no-undef,new-cap\n        shaka.polyfill.installAll();\n\n        // eslint-disable-next-line no-undef,new-cap\n        this.player = new shaka.Player(this.video);\n        this._attach();\n\n        this._loadSrc();\n    },\n\n    onMount() {\n        this.root = this.getEl(\"root\");\n        this.video = this.root.querySelector(\"video\");\n        this.containerEl = this.root.querySelector(\".video-player__container\");\n        this.video.volume = this.input.volume || 1;\n        this.video.muted = this.input.muted || false;\n\n        this.subscribeTo(this.video)\n            .on(\"playing\", this.handlePlaying.bind(this))\n            .on(\"pause\", this.handlePause.bind(this))\n            .on(\"volumechange\", this.handleVolumeChange.bind(this));\n\n        eventList.forEach((eventName) => {\n            this.subscribeTo(this.video).on(eventName, (e) =>\n                this.emit(eventName, e)\n            );\n        });\n\n        this._loadVideo();\n    },\n\n    onDestroy() {\n        if (this.ui) {\n            this.ui.destroy();\n        }\n    },\n\n    _loadVideo() {\n        this.state.failed = false;\n        this.state.isLoaded = false;\n        this.cdnLoader\n            .setOverrides(\n                [this.input.cdnUrl, this.input.cssUrl],\n                this.input.version\n            )\n            .mount();\n    },\n};\n","import { processHtmlAttributes } from \"../../common/html-attributes\"\n\nstatic const isBrowser = typeof window !== \"undefined\";\n\nstatic var ignoredAttributes = [\n    \"sources\",\n    \"cdnUrl\",\n    \"cdnVersion\",\n    \"format\",\n    \"thumbnail\",\n    \"playView\",\n    \"a11yPlayText\",\n    \"a11yLoadText\",\n    \"reportText\",\n    \"errorText\",\n    \"volume\",\n    \"muted\",\n    \"volumeSlider\"\n];\n\n<div key=\"root\" class=[\"video-player\", !state.played && input.thumbnail !== \"\" && \"video-player--poster\"]>\n    <if(isBrowser && !input.width)>\n        <subscribe\n            to=window\n            on-resize(\"handleResize\")/>\n    </if>\n    <div\n        class=\"video-player__container\"\n        no-update\n        style={\n            width: `${input.width}px`,\n            height: `${input.height}px`\n        }>\n        <video\n            no-controls\n            poster=input.thumbnail\n            ...processHtmlAttributes(input, ignoredAttributes)>\n            <for|src| of=(input.sources || [])>\n                <source ...src/>\n            </for>\n            <for|track| of=(input.track || [])>\n                <track ...track/>\n            </for>\n        </video>\n    </div>\n    <div class=[\n        \"video-player__overlay\",\n        !state.failed && \"video-player__overlay--hidden\"\n    ]>\n        <ebay-attention-24-icon/>\n        <div class=\"video-player__overlay-text\">\n            <if(input.errorText)>${input.errorText}</if>\n            <else>An error has occurred</else>\n        </div>\n    </div>\n    <div\n        class=[\n            \"video-player__overlay\",\n            state.isLoaded && \"video-player__overlay--hidden\"\n        ]\n        on-click(\"loadVideo\", true)>\n        <if(!state.showLoading)>\n            <ebay-play-64-colored-icon a11y-text=(input.a11yPlayText || \"Click to play\")/>\n        </if>\n        <else>\n            <ebay-progress-spinner a11y-text=(input.a11yLoadText || \"Loading\")/>\n        </else>\n    </div>\n    <div style=\"display:none\">\n        <ebay-play-64-colored-icon key=\"play-icon\"/>\n        <ebay-flag-24-icon key=\"flag-icon\"/>\n    </div>\n</div>\n"],"names":["Readme","getElements","self","Report","parent","controls","text","flagIcon","reportText","rootElement","TextSelection","DEFAULT_SPINNER_TIMEOUT","eventList","videoConfig","_marko_component","source","type","src","containerWidth","originalEvent","err","copyConfig","insertAt","input","CDNLoader","value","track","index","currentIndex","nextIndex","playIcon","playButton","shakaSpinner","eventName","e","isBrowser","window","ignoredAttributes","_marko_registerComponent","_marko_componentType","_marko_template","_marko_component2","_","_marko_renderer","out","_componentDef","_component","state","$global","be","_marko_class_merge","played","thumbnail","width","_marko_tag","_subscribe","_preserve","_marko_style_merge","concat","height","_marko_merge_attrs","processHtmlAttributes","_keyValue","sources","_keyScope","_marko_attrs","_keyValue2","_keyScope2","ee","failed","_ebayAttention24Icon","errorText","t","isLoaded","d","showLoading","_ebayProgressSpinner","a11yLoadText","_ebayPlay64ColoredIcon","a11yPlayText","_ebayFlag24Icon","Component","_marko_defineComponent"],"mappings":"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"}
import{t as T,r as w,_ as E,g as y,p as b,h as k,j as u,a as M}from"./registry-08dff688.js";/* empty css             */import{_ as L}from"./dynamic-tag-bb62150b.js";import{b as P}from"./index-dbe5ade1.js";import{_ as g}from"./render-tag-73fdbff3.js";import{_ as A}from"./index-b642b221.js";import{a as j,r as K}from"./index-feffb5f2.js";import{c as N}from"./index-8601134f.js";import{h as O,a as R}from"./index-ad737ebd.js";import{m as S}from"./index-2e2d6c5e.js";function V(){let t,e="";return{getIndex:function(s,a,r){e=e.concat(a);let o;if(s==null)return-1;const n=e.toLocaleLowerCase();return o=[...s].findIndex(c=>c.textContent.toLocaleLowerCase().startsWith(n)),o===-1&&(o=[...s].findIndex(c=>c.textContent.toLocaleLowerCase().includes(n))),setTimeout(()=>{clearTimeout(t),e=""},r),o},destroy:function(){}}}const H=1300,U=Object.assign({},S,{toggleItemChecked(t,e,s){const a=this.isRadio()&&t!==this.state.checkedIndex;this.toggleChecked(t),a?this.emitComponentEvent({index:t,eventType:"change",el:s,originalEvent:e}):this.type!=="radio"&&this.emitComponentEvent({index:t,eventType:this.type?"change":"select",el:s,originalEvent:e}),this.rovingTabindex&&(this.tabindexPosition=this.rovingTabindex.items.findIndex(r=>r.tabIndex===0))},handleItemClick(t,e,s){this.toggleItemChecked(t,e,s)},handleItemKeydown(t,e,s){O(e,()=>{this.emitComponentEvent({eventType:"keydown",originalEvent:e,index:t})}),R(e,()=>this.toggleItemChecked(t,e,s))},handleItemKeypress({key:t}){const e=this.getTypeaheadIndex(this.getEl("menu").children,t,this.input.typeaheadTimeoutLength||H);e!==-1&&(this.tabindexPosition=this.rovingTabindex.index=e)},emitComponentEvent({eventType:t,el:e,originalEvent:s,index:a}){const r=this.getCheckedIndexes(),o=this.type==="checkbox",n={el:e,originalEvent:s};o&&r.length>1?Object.assign(n,{index:a,indexes:this.getCheckedIndexes(),checked:this.getCheckedIndexes(),checkedValues:this.getCheckedValues()}):o||this.isRadio()?Object.assign(n,{index:a,checked:this.getCheckedIndexes(),checkedValues:this.getCheckedValues()}):Object.assign(n,{index:a,checked:[a]}),this.emit(`${t}`,n)},onInput(t){this.state=this.getInputState(t)},onRender(){typeof window<"u"&&this._cleanupMakeup()},onMount(){this.tabindexPosition=0,this._setupMakeup()},onUpdate(){this._setupMakeup()},onDestroy(){this._cleanupMakeup()},_setupMakeup(){this.contentEl=this.getEl("menu"),this.rovingTabindex=N(this.contentEl,"div",{index:this.tabindexPosition,autoReset:null}),j(this.contentEl);const{getIndex:t,destroy:e}=V();this.getTypeaheadIndex=t,this.destroyTypeahead=e},_cleanupMakeup(){this.rovingTabindex&&(this.rovingTabindex.destroy(),K(this.contentEl)),this.destroyTypeahead&&this.destroyTypeahead()}}),p="6hbJ9uLV",m=T(p),D=m;var W=["class","style","classPrefix","type","reverse","fixWidth","items"],$=["class","style","value","checked","badgeNumber","badgeAriaLabel"];w.r(p,()=>m);const _=U;m._=E(function(t,e,s,a,r,o){var n=t.type==="radio",c=t.type==="checkbox",f=t.type!=="checkbox"&&t.type!=="radio",d=t.classPrefix||"menu",x=a.getSeparatorMap(t);e.be("span",y(b(t,W),{class:k([t.classPrefix?"".concat(d,"__menu"):"menu",t.reverse&&"".concat(d,"__menu--reverse"),t.fixWidth&&"".concat(d,"__menu--fix-width"),t.class]),style:u(t.style)}),"0",a,null,4),e.be("div",{role:"menu",class:k("".concat(d,"__items")),id:s.elId("menu")},"@menu",a,null,0);{let v=0;for(const i of a.items||[]){let l=v++;const h="[".concat(l,"]");var C=n?"menuitemradio":c?"menuitemcheckbox":"menuitem",I=a.isChecked(l);x[l]&&e.e("hr",{class:k("".concat(d,"__separator")),role:"separator"},"1"+h,a,0,0),e.be("div",y(b(i,$),{class:k(["".concat(d,"__item"),i.class,i.badgeNumber&&"".concat(d,"__item--badged")]),style:u(i.style),"aria-checked":!f&&(I?"true":"false"),"aria-disabled":i.disabled&&"true",href:i.disabled?null:i.href,role:C}),"@item[]",a,null,4,{onclick:s.d("click",!i.disabled&&"handleItemClick",!1,[l]),onkeydown:s.d("keydown",!i.disabled&&"handleItemKeydown",!1,[l]),onkeypress:s.d("keypress",!i.disabled&&"handleItemKeypress",!1)}),e.be("span",null,"2"+h,a,null,0),L(e,i.renderBody,null,null,null,null,s,"3"+h),i.badgeNumber&&g(P,{type:"menu",number:i.badgeNumber},e,s,"4"+h),e.ee(),g(A,{},e,s,"5"+h),e.ee()}}e.ee(),e.ee()},{t:p},_);m.Component=M(_,m._);export{D as C};
//# sourceMappingURL=index-76d3e631.js.map

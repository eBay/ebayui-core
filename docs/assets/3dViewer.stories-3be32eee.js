import{t as g}from"./index-a17a703b.js";import{a as u}from"./utils-44f5c40b.js";import{t as b,r as v,_ as f,h as d,g as w,p as _,a as T}from"./registry-08dff688.js";import{_ as x,a as L}from"./index-196da17a.js";import{_ as n}from"./render-tag-73fdbff3.js";import{_ as V}from"./index-9a052758.js";import{C as k}from"./index-5be940c9.js";import"./_commonjsHelpers-725317a4.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./index-3f14fa50.js";/* empty css             */import"./index-e5d8eaff.js";const E=`<h1 style='display: flex; justify-content: space-between; align-items: center;'>
    <span>
        ebay-3d-viewer
    </span>
    <span style='font-weight: normal; font-size: medium; margin-bottom: -15px;'>
        DS v1.0.0
    </span>
</h1>

## ebay-3d-viewer (_ALPHA_, some APIs might change)

Under the hood, this uses google model viewer. All APIs are passthough to the model viewer. To use methods on the model-viewer, you can access \`viewer\` object on the component.

## Examples and Documentation

-   [Storybook](https://ebay.github.io/ebayui-core/?path=/story/media-ebay-3d-viewer)
-   [Storybook Docs](https://ebay.github.io/ebayui-core/?path=/docs/media-ebay-3d-viewer)
-   [Code Examples](https://github.com/eBay/ebayui-core/tree/master/src/components/ebay-3d-viewer/examples)
`;const A={handleError(e){this.state.failed=!0,this.state.isLoaded=!0,this.emit("load-error",e)},onCreate(){this.state={showLoading:!1,isLoaded:!0,failed:!1},this.cdnLoader=new k(this,{key:"modelViewer",types:["module"],files:["model-viewer.min.js"],setLoading:e=>{this.state.showLoading=e},handleError:this.handleError.bind(this),handleSuccess:this.handleSuccess.bind(this)})},handleSuccess(){this.state.isLoaded=!0,this.state.showLoading=!1,this.state.failed=!1},onMount(){this.viewer=this.getEl("3d-viewer"),this._loadViewer()},_loadViewer(){this.state.failed=!1,this.state.isLoaded=!1,this.cdnLoader.setOverrides([this.input.cdnUrl],this.input.version).mount()}},l="tKxfwwV1",o=b(l),C=o;var S=["class","src","a11yText"];v.r(l,()=>o);const h=A;o._=f(function(e,r,t,a,i,R){r.be("div",{class:d(["three-d-player",e.class])},"0",a,null,1);{const p="model-viewer";r.e(p,w({"camera-controls":"","touch-action":"pan-y",alt:e.a11yText,src:e.src},_(e,S)),"@3d-viewer",a,0,4,{onerror:t.d("error","handleError",!1),onload:t.d("load","emit",!1,["load"]),onprogress:t.d("progress","emit",!1,["progress"]),"onmodel-visibility":t.d("model-visibility","emit",!1,["model-visibility"]),"onposter-dismissed":t.d("poster-dismissed","emit",!1,["poster-dismissed"]),"onrender-scale":t.d("render-scale","emit",!1,["render-scale"])}),r.be("div",{class:d(["three-d-player__overlay",!i.failed&&"three-d-player__overlay--hidden"])},"1",a,null,1),n(x,{},r,t,"2"),r.be("div",{class:"three-d-player__overlay-text"},"3",a,null,1),e.errorText?r.t(e.errorText,a):r.t("An error has occurred",a),r.ee(),r.ee(),r.be("div",{class:d(["three-d-player__overlay",i.isLoaded&&"three-d-player__overlay--hidden"])},"4",a,null,1),i.showLoading?n(V,{a11yText:e.a11yLoadText||"Loading"},r,t,"6"):n(L,{a11yText:e.a11yStartText||"Click to start"},r,t,"5"),r.ee()}r.ee()},{t:l},h);o.Component=T(h,o._);const P=e=>({input:u(e)}),D={title:"media/ebay-3d-viewer",component:C,parameters:{docs:{description:{component:E}}},argTypes:{src:{control:{type:"text"},description:"The asset to load"},cdnVersion:{control:{type:"text"},table:{category:"",defaultValue:{summary:"2.1.1"}},description:"The version of the assets to load from CDN. This can be overriden in case the current verion has issues"},cdnUrl:{control:{type:"text"},description:"This will override the whole URL used for downloading the media player assets. This is mainly used if you want to use your own CDN."},a11yText:{control:{type:"text"},table:{category:"Accessibility",defaultValue:{summary:""}},description:"The text for screen readers to read out when interacting with the 3d player."},a11yStartText:{control:{type:"text"},table:{category:"Accessibility",defaultValue:{summary:"Click to start"}},description:"Text for start icon to load viewer"},a11yLoadText:{control:{type:"text"},table:{category:"Accessibility",defaultValue:{summary:"Loading"}},description:"Text for loading icon loading viewer"},errorText:{control:{type:"text"},table:{category:"Accessibility",defaultValue:{summary:"An error has occurred"}},description:"Text to show error message"},onAction:{action:"on-action",description:"Triggered when interacting with player",table:{category:"Events",defaultValue:{summary:"{ }"}}},onProgress:{action:"on-progress",description:"Triggered ",table:{category:"Events",defaultValue:{summary:"{ }"}}},onLoad:{action:"on-load",description:"Triggered when loading is complete",table:{category:"Events",defaultValue:{summary:"{ }"}}},"onLoad-error":{action:"on-load-error",description:"Triggered when loading error happens",table:{category:"Events",defaultValue:{summary:"{ }"}}},"onModel-visibility":{action:"on-model-visibility",description:"Triggered when model is visible",table:{category:"Events",defaultValue:{summary:"{ }"}}},"onRender-scale":{action:"on-render-scale",description:"Triggered when model scales",table:{category:"Events",defaultValue:{summary:"{ }"}}},"onPoster-dismissed":{action:"on-poster-dismissed",description:"Triggered when there's a placeholder image and it is removed",table:{category:"Events",defaultValue:{summary:"{ }"}}}}},s=P.bind({});s.args={src:"https://ir.ebaystatic.com/cr/v/c1/ebayui/3d/v1/image.glb",a11yText:"View these shoes for sale."};s.parameters={docs:{source:{code:g("ebay-3d-viewer",s.args)}}};var c,m,y;s.parameters={...s.parameters,docs:{...(c=s.parameters)==null?void 0:c.docs,source:{originalSource:`args => ({
  input: addRenderBodies(args)
})`,...(y=(m=s.parameters)==null?void 0:m.docs)==null?void 0:y.source}}};const F=["Default"];export{s as Default,F as __namedExportsOrder,D as default};
//# sourceMappingURL=3dViewer.stories-3be32eee.js.map
